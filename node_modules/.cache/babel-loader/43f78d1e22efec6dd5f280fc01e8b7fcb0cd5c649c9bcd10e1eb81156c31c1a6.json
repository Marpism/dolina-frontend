{"ast":null,"code":"import{useEffect,useState,useContext}from'react';import{Link,NavLink,useLocation,useNavigate}from'react-router-dom';import{useMediaQuery}from'react-responsive';import'./OrderingPage.css';import Api from'../../../utils/Api';import usersApi from'../../../utils/UsersApi';import productsApi from\"../../../utils/Api\";import logo from'../../../images/logo.png';import cdekLogo from'../../../images/CDEK_logo.svg';import boxberryLogo from'../../../images/boxberry.svg';import postLogo from'../../../images/ruspost2.png';import fivePostLogo from'../../../images/5post.svg';import cardPic from'../../../images/credit-card.svg';import qrPic from'../../../images/qr-code.svg';import walletPic from'../../../images/wallet.svg';import clockBold from'../../../images/clock-bold.svg';import mapPin from'../../../images/map-pin.svg';import checkMark from'../../../images/check-bold.svg';import mapLocationDot from'../../../images/map-location-dot.svg';import listBold from'../../../images/list-bold.svg';import questionIcon from'../../../images/question-bold.svg';import{CurrentUserContext}from'../../../contexts/CurrentUserContext';import YandexMap from'../../Map/Map';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function OrderingPage(_ref){let{cart,isLoggedIn,onCatClick,onUpdateUser}=_ref;const currentUser=useContext(CurrentUserContext);const navigate=useNavigate();function resetCategory(){onCatClick('');}useEffect(()=>{document.title='Оформление заказа — Долина самоцветов';},[]);const isBigScreen=useMediaQuery({minWidth:768});// надо бы перенести в константы\nconst isSmallScreen=useMediaQuery({maxWidth:767});const name=currentUser.name;const[cartProducts,setCartProducts]=useState([]);const[isSubmitting,setIsSubmitting]=useState(false);const[gotEmail,setGotEmail]=useState(!!currentUser.email);const[city,setCity]=useState('');const[deliveryType,setDeliveryType]=useState('');const[paymentType,setPaymentType]=useState('');const[deliveryOffice,setDeliveryOffice]=useState('');const[email,setEmail]=useState('');const[fullName,setFullName]=useState('');const[deliveryAddress,setDeliveryAddress]=useState('');const[postalCode,setPostalCode]=useState(0);const[comment,setComment]=useState('');const[callbackNeeded,setCallbackNeeded]=useState(0);const[phone,setPhone]=useState('');const[deliveryPrice,setDeliveryPrice]=useState(0);const[discountedDeliveryPrice,setDiscountedDeliveryPrice]=useState('');const[isConsent,setIsConsent]=useState(true);const[discount,setDiscount]=useState(0);const[total,setTotal]=useState('');const[paymentDiscount,setPaymentDiscount]=useState('');const[deliveryDiscountIsActive,setDeliveryDiscountIsActive]=useState(false);const[cityInputValue,setCityInputValue]=useState('');const[cities,setCities]=useState([]);const[cdekPickupPrice,setCdekPickupPrice]=useState('-');const[cdekDeliveryPrice,setCdekDeliveryPrice]=useState('-');const[boxberryPickupPrice,setBoxberryPickupPrice]=useState('-');const[boxberryDeliveryPrice,setBoxberryDeliveryPrice]=useState('-');const[russianPostPickupPrice,setRussianPostPickupPrice]=useState('-');const[fivepostPickupPrice,setFivepostPickupPrice]=useState('-');const[cdekPickupTime,setCdekPickupTime]=useState('');const[cdekDeliveryTime,setCdekDeliveryTime]=useState('');const[boxberryPickupTime,setBoxberryPickupTime]=useState('');const[boxberryDeliveryTime,setBoxberryDeliveryTime]=useState('');const[russianPostPickupTime,setRussianPostPickupTime]=useState('');const[fivepostPickupTime,setFivepostPickupTime]=useState('-');const[cityObject,setCityObject]=useState('');const[cityCode,setCityCode]=useState('');const[boxberryCityCode,setBoxberryCityCode]=useState('');const[cityLocation,setCityLocation]=useState('');const[deliveryPoints,setDeliveryPoints]=useState([]);const[deliveryPointsList,setDeliveryPointsList]=useState([]);const[selectedPvz,setSelectedPvz]=useState('');const[savedPvz,setSavedPvz]=useState('');const[showDeliveryMap,setShowDeliveryMap]=useState(false);const[showDeliveryList,setShowDeliveryList]=useState(true);const[isAllFilled,setIsAllFilled]=useState(false);const[isDeliveryInfo,setisDeliveryInfo]=useState(false);// console.log(gotEmail)\nfunction handleDeliveryClick(e){setDeliveryType(Number(e.target.value));setDeliveryOffice('');setSavedPvz('');setSelectedPvz('');setDeliveryPoints([]);setDeliveryPointsList([]);};useEffect(()=>{if((deliveryType==1||deliveryType==4||deliveryType==6)&&cityCode>0){Api.getDeliveryPoints(cityCode,boxberryCityCode,cityObject.city,deliveryType).then(res=>{// console.log(res)\nif(res.length>0){setDeliveryPoints(res);setDeliveryPointsList(res);setShowDeliveryList(true);setShowDeliveryMap(false);}}).catch(err=>console.log(err));}if(deliveryType==2)setDeliveryPrice(cdekDeliveryPrice);if(deliveryType==1)setDeliveryPrice(cdekPickupPrice);if(deliveryType==3)setDeliveryPrice(russianPostPickupPrice);if(deliveryType==5)setDeliveryPrice(boxberryDeliveryPrice);if(deliveryType==4)setDeliveryPrice(boxberryPickupPrice);if(deliveryType==6)setDeliveryPrice(fivepostPickupPrice);setPaymentType('');},[deliveryType,cityCode]);function handlePaymentChange(e){setPaymentType(Number(e.target.value));if(e.target.value!=3){setDiscount(3);}else{setDiscount(0);}}useEffect(()=>{calculateTotal();},[discount,cartProducts,deliveryPrice]);useEffect(()=>{if(city&&deliveryType&&paymentType&&(deliveryOffice||deliveryType==2&&deliveryAddress||deliveryType==5&&deliveryAddress||deliveryType==3&&deliveryAddress&&postalCode)&&fullName&&phone.length>9&&cart){setIsAllFilled(true);}else{setIsAllFilled(false);}},[discount,cartProducts,deliveryType,deliveryPrice,fullName,paymentType,phone,deliveryAddress,deliveryOffice,city,postalCode]);useEffect(()=>{setGotEmail(!!currentUser.email);},[currentUser.email]);function handleConsent(){setIsConsent(!isConsent);// console.log(isConsent)\n}useEffect(()=>{const productIds=Object.keys(cart);productsApi.getProductsById([productIds]).then(res=>{setCartProducts(res);}).catch(err=>console.log(err));},[cart]);function handleOrderSubmit(e){e.preventDefault();setIsSubmitting(true);if(window.yaCounter97575657){window.yaCounter97575657.reachGoal('orderButtonClick');}let deliveryPriceToSend=deliveryPrice;if(deliveryDiscountIsActive){deliveryPriceToSend=discountedDeliveryPrice;}if(!currentUser.email){onUpdateUser({name,email});}const orderData={deliveryType:deliveryType,paymentType:paymentType,deliveryOffice:deliveryOffice,city:city,deliveryAddress:deliveryAddress,deliveryPrice:deliveryPriceToSend,postalCode:postalCode,fullName:fullName,phone:phone,comment:comment,callbackNeeded:callbackNeeded,products:cart,discount:discount,email:currentUser.email};usersApi.addOrder(orderData).then(res=>{if(isLoggedIn){usersApi.updateCart(JSON.stringify({}));}localStorage.removeItem('cart');setTimeout(()=>{if(paymentType==3){navigate('/me/orders/success/'+res.orderId);}else{window.location.href=res.paymentUrl;}},100);});}function calculateDiscount(costOfDelivery){let discountedPrice;let sum=0;cartProducts.forEach(product=>{var _product$salePrice;sum+=(_product$salePrice=product.salePrice)!==null&&_product$salePrice!==void 0?_product$salePrice:product.price;});if(sum>1999&&sum<3000){discountedPrice=Math.ceil(costOfDelivery-costOfDelivery/100*20);}else if(sum>2999&&sum<5000){discountedPrice=Math.ceil(costOfDelivery-costOfDelivery/100*30);}else if(sum>4999){discountedPrice=0;}else{discountedPrice=costOfDelivery;}return discountedPrice;}function calculateTotal(){let sum=0;cartProducts.forEach(product=>{var _product$salePrice2;sum+=(_product$salePrice2=product.salePrice)!==null&&_product$salePrice2!==void 0?_product$salePrice2:product.price;});let discountedPrice=Math.floor(sum-sum*discount/100);setPaymentDiscount(sum-discountedPrice);let temporaryDiscountedPrice=deliveryPrice;setDiscountedDeliveryPrice(temporaryDiscountedPrice);if(sum>1999&&sum<3000){setDeliveryDiscountIsActive(true);temporaryDiscountedPrice=Math.ceil(deliveryPrice-deliveryPrice/100*20);setDiscountedDeliveryPrice(temporaryDiscountedPrice);setTotal(discountedPrice+temporaryDiscountedPrice);}else if(sum>2999&&sum<5000){setDeliveryDiscountIsActive(true);temporaryDiscountedPrice=Math.ceil(deliveryPrice-deliveryPrice/100*30);setDiscountedDeliveryPrice(temporaryDiscountedPrice);setTotal(discountedPrice+temporaryDiscountedPrice);}else if(sum>4999){setDeliveryDiscountIsActive(true);temporaryDiscountedPrice=0;setDiscountedDeliveryPrice(temporaryDiscountedPrice);setTotal(discountedPrice+temporaryDiscountedPrice);}else{setDeliveryDiscountIsActive(false);setTotal(discountedPrice+deliveryPrice);}}function handleCityInput(event){let city=event.target.value;setCityInputValue(city);if(city.length>1){Api.getCdekCities(city).then(response=>{setCities(response);}).catch(error=>{console.error('Error fetching cities:',error);setCities([]);});}else{setCities([]);}}function handleCitySelect(city){setCityInputValue('');setCityObject(city);setCityCode(city.code);setBoxberryCityCode(city.boxberry_city_code);setCities([]);setCity(city.city);setCdekPickupPrice('-');setCdekDeliveryPrice('-');setBoxberryPickupPrice('-');setBoxberryDeliveryPrice('-');setRussianPostPickupPrice('-');setFivepostPickupPrice('-');setCdekPickupTime('');setCdekDeliveryTime('');setBoxberryPickupTime('');setBoxberryDeliveryTime('');setFivepostPickupTime('');setRussianPostPickupTime('');Api.getCdekTariff(city.code).then(response=>{let cdek_pickup=response.tariff_codes.filter(tariff=>tariff.tariff_code===136)[0];let cdek_delivery=response.tariff_codes.filter(tariff=>tariff.tariff_code===137)[0];if(cdek_pickup){setCdekPickupPrice(Math.floor(cdek_pickup.delivery_sum*1.1/5)*5);setCdekPickupTime(cdek_pickup.period_min);}else{setCdekPickupPrice('Недоступен');setCdekPickupTime('');}if(cdek_delivery){setCdekDeliveryPrice(Math.floor(cdek_delivery.delivery_sum*1.1/5)*5);setCdekDeliveryTime(cdek_delivery.period_min);}else{setCdekDeliveryPrice('Недоступна');setCdekDeliveryTime('');}if(cdek_pickup){setRussianPostPickupPrice(Math.floor((cdek_pickup.delivery_sum*1.1-cdek_pickup.delivery_sum*1.1*0.05)/5)*5);setRussianPostPickupTime(cdek_pickup.period_min+1);}else if(cdek_delivery){setRussianPostPickupPrice(Math.floor((cdek_delivery.delivery_sum*1.1-cdek_delivery.delivery_sum*1.1*0.2)/5)*5);setRussianPostPickupTime(cdek_delivery.period_min+2);}else{// ??\n}}).catch(error=>{console.error('Error fetching tariffs:',error);});if(city.boxberry_city_code){Api.getBoxberryTariff(city.boxberry_city_code).then(response=>{let boxberry_pickup=response.result.DeliveryCosts.find(cost=>cost.DeliveryTypeId===1);let boxberry_delivery=response.result.DeliveryCosts.find(cost=>cost.DeliveryTypeId===2);if(boxberry_pickup){setBoxberryPickupPrice(Math.floor(boxberry_pickup.TotalPrice*1.1/5)*5);setBoxberryPickupTime(boxberry_pickup.DeliveryPeriod);}else{setBoxberryPickupPrice('Недоступен');setBoxberryPickupTime('');}if(boxberry_delivery){setBoxberryDeliveryPrice(Math.floor(boxberry_delivery.TotalPrice*1.1/5)*5);setBoxberryDeliveryTime(boxberry_delivery.DeliveryPeriod);}else{setBoxberryDeliveryPrice('Недоступна');setBoxberryDeliveryTime('');}}).catch(error=>{console.error('Error fetching tariffs:',error);});}if(city.city){Api.getFivepostTariff(city.city).then(response=>{if(response.fivepostPickupPrice){setFivepostPickupPrice(response.fivepostPickupPrice);setFivepostPickupTime(response.fivepostPickupTime);}else{setFivepostPickupPrice('Недоступен');setFivepostPickupTime('');}}).catch(error=>{console.error('Error fetching tariffs:',error);});}}function handlePlacemarkClick(index){if(showDeliveryList){setSelectedPvz(deliveryPointsList[index]);}else{setSelectedPvz(deliveryPoints[index]);}}function handlePvzSearch(e){if(deliveryType===1){setDeliveryPointsList(deliveryPoints.filter(point=>point.location.address.toLowerCase().includes(e.target.value.toLowerCase())));}else if(deliveryType===4){setDeliveryPointsList(deliveryPoints.filter(point=>point.AddressReduce.toLowerCase().includes(e.target.value.toLowerCase())));}else if(deliveryType===6){setDeliveryPointsList(deliveryPoints.filter(point=>point.shortAddress.toLowerCase().includes(e.target.value.toLowerCase())));}}function showDeliveryInfo(){setisDeliveryInfo(!isDeliveryInfo);}function savePvz(){setSavedPvz(selectedPvz);setShowDeliveryList(false);setShowDeliveryMap(false);let pvzName;if(deliveryType===1)pvzName=selectedPvz.location.address;if(deliveryType===4)pvzName=selectedPvz.AddressReduce;if(deliveryType===6)pvzName=selectedPvz.shortAddress;setDeliveryOffice(pvzName);}function changePvz(){setSelectedPvz('');setSavedPvz('');setDeliveryOffice('');setShowDeliveryList(true);}const fivepostWorkHours=workHoursStr=>{const workHours=JSON.parse(workHoursStr);// Mapping English days to Russian\nconst dayMap={MON:'Пн',TUE:'Вт',WED:'Ср',THU:'Чт',FRI:'Пт',SAT:'Сб',SUN:'Вс'};// Format time without seconds (HH:mm)\nconst formatTime=time=>time.substring(0,5);// // Create formatted string for each day in Russian\n// const formattedString = workHours.map(({ day, opensAt, closesAt }) => {\n//   return `${dayMap[day]}: ${formatTime(opensAt)} - ${formatTime(closesAt)}.`;\n// }).join('\\n'); // Join the results with line breaks\n// return formattedString;\nconst{day,opensAt,closesAt}=workHours[0];// Return formatted string for the first day in Russian\nreturn\"\".concat(formatTime(opensAt),\" - \").concat(formatTime(closesAt));};// Собрать продактс с размером, тотал, скидку\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"header_block_2\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"logo_theme_light logo_theme_ordering\",alt:\"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F\",onClick:resetCategory})})})}),/*#__PURE__*/_jsxs(\"main\",{className:\"cart flex_type_column\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"cart__header\",children:\"\\u041E\\u0444\\u043E\\u0440\\u043C\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"cart-container_1\",onSubmit:handleOrderSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ordering\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ordering__delivery\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-city\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cityInput\",children:\"\\u0412\\u0430\\u0448 \\u043D\\u0430\\u0441\\u0435\\u043B\\u0451\\u043D\\u043D\\u044B\\u0439 \\u043F\\u0443\\u043D\\u043A\\u0442:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"delivery-text-input delivery-city-input\",type:\"text\",id:\"cityInput\",placeholder:\"\\u043D\\u0430\\u0447\\u043D\\u0438\\u0442\\u0435 \\u0432\\u0432\\u043E\\u0434\\u0438\\u0442\\u044C \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",value:cityInputValue,onChange:handleCityInput}),cityObject&&/*#__PURE__*/_jsxs(\"div\",{className:\"selected_city\",children:[/*#__PURE__*/_jsx(\"img\",{src:mapPin,className:\"map-pin\"}),/*#__PURE__*/_jsx(\"b\",{children:cityObject.city}),\" (\",cityObject.sub_region,\", \",cityObject.region,\")\"]}),cities.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"city_select\",children:cities.map(city=>/*#__PURE__*/_jsxs(\"span\",{className:\"city_suggested\",onClick:()=>handleCitySelect(city),children:[/*#__PURE__*/_jsx(\"b\",{children:city.city}),\" (\",city.sub_region,\", \",city.region,\")\"]},city.code))})]}),cityCode&&/*#__PURE__*/_jsx(\"h2\",{className:\"ordering__subheader\",style:{paddingTop:'20px',marginBottom:'0'},children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0441\\u043F\\u043E\\u0441\\u043E\\u0431 \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438:\"}),cityCode&&/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-list\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"delivery\",value:1,id:\"d1\",className:\"delivery-radio\",onChange:handleDeliveryClick,disabled:!cdekPickupTime}),/*#__PURE__*/_jsxs(\"label\",{className:\"delivery-label\",htmlFor:\"d1\",children:[/*#__PURE__*/_jsx(\"div\",{className:'delivery-list-item'+(!cdekPickupTime?' inactive':''),children:/*#__PURE__*/_jsx(\"img\",{className:\"delivery-logo\",src:cdekLogo,alt:\"\\u0421\\u0430\\u043C\\u043E\\u0432\\u044B\\u0432\\u043E\\u0437 \\u0421\\u0414\\u042D\\u041A\"})}),cdekPickupTime&&/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-time\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"delivery-time_font\",children:\"\\u0421\\u0430\\u043C\\u043E\\u0432\\u044B\\u0432\\u043E\\u0437 \\u0438\\u0437 \\u043F\\u0443\\u043D\\u043A\\u0442\\u0430\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"delivery-time_font\",children:[\"\\u043E\\u0442 \",cdekPickupTime,\" \\u0434\\u043D\\u0435\\u0439\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"delivery-price\",children:deliveryDiscountIsActive&&cdekPickupPrice>0?/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-sale-price__container\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"delivery-price_crossed\",children:[cdekPickupPrice,cdekPickupPrice>0&&'₽']}),/*#__PURE__*/_jsxs(\"span\",{className:\"delivery-sale-price\",children:[calculateDiscount(cdekPickupPrice),\" \",cdekPickupPrice>0&&'₽']})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[cdekPickupPrice,\" \",cdekPickupPrice>0&&'₽']})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"delivery\",value:2,id:\"d2\",className:\"delivery-radio\",onChange:handleDeliveryClick,disabled:!cdekDeliveryTime}),/*#__PURE__*/_jsxs(\"label\",{className:\"delivery-label\",htmlFor:\"d2\",children:[/*#__PURE__*/_jsx(\"div\",{className:'delivery-list-item'+(!cdekDeliveryTime?' inactive':''),children:/*#__PURE__*/_jsx(\"img\",{className:\"delivery-logo\",src:cdekLogo,alt:\"\\u041A\\u0443\\u0440\\u044C\\u0435\\u0440\\u0441\\u043A\\u0430\\u044F \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0430 \\u0421\\u0414\\u042D\\u041A\"})}),cdekDeliveryTime&&/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-time\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"delivery-time_font\",children:\"\\u041A\\u0443\\u0440\\u044C\\u0435\\u0440\\u0441\\u043A\\u0430\\u044F \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0430\"}),\" \",/*#__PURE__*/_jsxs(\"p\",{className:\"delivery-time_font\",children:[\"\\u043E\\u0442 \",cdekDeliveryTime,\" \\u0434\\u043D\\u0435\\u0439\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"delivery-price\",children:deliveryDiscountIsActive&&cdekDeliveryPrice>0?/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-sale-price__container\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"delivery-price_crossed\",children:[cdekDeliveryPrice,cdekDeliveryPrice>0&&'₽']}),/*#__PURE__*/_jsxs(\"span\",{className:\"delivery-sale-price\",children:[calculateDiscount(cdekDeliveryPrice),\" \",cdekDeliveryPrice>0&&'₽']})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[cdekDeliveryPrice,\" \",cdekDeliveryPrice>0&&'₽']})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"delivery\",value:6,id:\"d6\",className:\"delivery-radio\",onChange:handleDeliveryClick,disabled:!fivepostPickupTime}),/*#__PURE__*/_jsxs(\"label\",{className:\"delivery-label\",htmlFor:\"d6\",children:[/*#__PURE__*/_jsx(\"div\",{className:'delivery-list-item'+(!fivepostPickupTime?' inactive':''),children:/*#__PURE__*/_jsx(\"img\",{style:{transform:'translate(0px, 3px)'},className:\"delivery-logo\",src:fivePostLogo,alt:\"5post\"})}),fivepostPickupTime&&/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-time\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"delivery-time_font\",children:\"\\u0414\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0430 \\u0432 \\u041F\\u044F\\u0442\\u0451\\u0440\\u043E\\u0447\\u043A\\u0443\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"delivery-time_font\",children:[\"\\u043E\\u0442 \",fivepostPickupTime,\" \\u0434\\u043D\\u0435\\u0439\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"delivery-price\",children:deliveryDiscountIsActive&&fivepostPickupPrice>0?/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-sale-price__container\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"delivery-price_crossed\",children:[fivepostPickupPrice,fivepostPickupPrice>0&&'₽']}),/*#__PURE__*/_jsxs(\"span\",{className:\"delivery-sale-price\",children:[calculateDiscount(fivepostPickupPrice),\" \",fivepostPickupPrice>0&&'₽']})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[fivepostPickupPrice,\" \",fivepostPickupPrice>0&&'₽']})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"delivery\",value:5,id:\"d5\",className:\"delivery-radio\",onChange:handleDeliveryClick,disabled:!boxberryDeliveryTime}),/*#__PURE__*/_jsxs(\"label\",{className:\"delivery-label\",htmlFor:\"d5\",children:[/*#__PURE__*/_jsx(\"div\",{className:'delivery-list-item'+(!boxberryDeliveryTime?' inactive':''),children:/*#__PURE__*/_jsx(\"img\",{className:\"delivery-logo\",src:boxberryLogo,alt:\"\\u041A\\u0443\\u0440\\u044C\\u0435\\u0440\\u0441\\u043A\\u0430\\u044F \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0430 Boxberry\"})}),boxberryDeliveryTime&&/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-time\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"delivery-time_font\",children:\"\\u041A\\u0443\\u0440\\u044C\\u0435\\u0440\\u0441\\u043A\\u0430\\u044F \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0430\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"delivery-time_font\",children:[\"\\u043E\\u0442 \",boxberryDeliveryTime,\" \\u0434\\u043D\\u0435\\u0439\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"delivery-price\",children:deliveryDiscountIsActive&&boxberryDeliveryPrice>0?/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-sale-price__container\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"delivery-price_crossed\",children:[boxberryDeliveryPrice,boxberryDeliveryPrice>0&&'₽']}),/*#__PURE__*/_jsxs(\"span\",{className:\"delivery-sale-price\",children:[calculateDiscount(boxberryDeliveryPrice),\" \",boxberryDeliveryPrice>0&&'₽']})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[boxberryDeliveryPrice,\" \",boxberryDeliveryPrice>0&&'₽']})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"delivery\",value:4,id:\"d4\",className:\"delivery-radio\",onChange:handleDeliveryClick,disabled:!boxberryPickupTime}),/*#__PURE__*/_jsxs(\"label\",{className:\"delivery-label\",htmlFor:\"d4\",children:[/*#__PURE__*/_jsx(\"div\",{className:'delivery-list-item'+(!boxberryPickupTime?' inactive':''),children:/*#__PURE__*/_jsx(\"img\",{className:\"delivery-logo\",src:boxberryLogo,alt:\"\\u0421\\u0430\\u043C\\u043E\\u0432\\u044B\\u0432\\u043E\\u0437 Boxberry\"})}),boxberryPickupTime&&/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-time\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"delivery-time_font\",children:\"\\u0421\\u0430\\u043C\\u043E\\u0432\\u044B\\u0432\\u043E\\u0437 \\u0438\\u0437 \\u043F\\u0443\\u043D\\u043A\\u0442\\u0430\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"delivery-time_font\",children:[\"\\u043E\\u0442 \",boxberryPickupTime,\" \\u0434\\u043D\\u0435\\u0439\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"delivery-price\",children:deliveryDiscountIsActive&&boxberryPickupPrice>0?/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-sale-price__container\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"delivery-price_crossed\",children:[boxberryPickupPrice,boxberryPickupPrice>0&&'₽']}),/*#__PURE__*/_jsxs(\"span\",{className:\"delivery-sale-price\",children:[calculateDiscount(boxberryPickupPrice),\" \",boxberryPickupPrice>0&&'₽']})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[boxberryPickupPrice,\" \",boxberryPickupPrice>0&&'₽']})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"delivery\",value:3,id:\"d3\",className:\"delivery-radio\",onChange:handleDeliveryClick,disabled:!russianPostPickupTime}),/*#__PURE__*/_jsxs(\"label\",{className:\"delivery-label\",htmlFor:\"d3\",children:[/*#__PURE__*/_jsx(\"div\",{className:'delivery-list-item'+(!russianPostPickupTime?' inactive':''),children:/*#__PURE__*/_jsx(\"img\",{style:{maxHeight:'32px'},className:\"delivery-logo\",src:postLogo,alt:\"\\u041F\\u043E\\u0447\\u0442\\u0430 \\u0420\\u043E\\u0441\\u0441\\u0438\\u0438\"})}),russianPostPickupTime&&/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-time\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"delivery-time_font\",children:\"\\u041F\\u043E\\u0441\\u044B\\u043B\\u043A\\u0430\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"delivery-time_font\",children:[\"\\u043E\\u0442 \",russianPostPickupTime,\" \\u0434\\u043D\\u0435\\u0439\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"delivery-price\",children:deliveryDiscountIsActive&&russianPostPickupPrice>0?/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-sale-price__container\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"delivery-price_crossed\",children:[russianPostPickupPrice,russianPostPickupPrice>0&&'₽']}),/*#__PURE__*/_jsxs(\"span\",{className:\"delivery-sale-price\",children:[calculateDiscount(russianPostPickupPrice),\" \",russianPostPickupPrice>0&&'₽']})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[russianPostPickupPrice,\" \",russianPostPickupPrice>0&&'₽']})})]})]})]}),cityCode&&deliveryType&&/*#__PURE__*/_jsx(\"div\",{className:\"delivery-inputs\",children:deliveryType&&(deliveryType===1||deliveryType===4||deliveryType===6)?/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[!selectedPvz&&/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:'20px'},className:\"ordering__subheader\",children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0443\\u043D\\u043A\\u0442 \\u0441\\u0430\\u043C\\u043E\\u0432\\u044B\\u0432\\u043E\\u0437\\u0430:\"}),(showDeliveryMap||showDeliveryList)&&!savedPvz&&/*#__PURE__*/_jsx(\"div\",{className:\"pvz_toggles_container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pvz_toggles\",children:[/*#__PURE__*/_jsxs(\"span\",{className:'pvz_list_toggle'+(showDeliveryList?' pvz_list_toggle_active':''),onClick:()=>{setShowDeliveryMap(false);setShowDeliveryList(true);},children:[/*#__PURE__*/_jsx(\"img\",{src:listBold}),\" \\u0432\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C \\u0438\\u0437 \\u0441\\u043F\\u0438\\u0441\\u043A\\u0430\"]}),/*#__PURE__*/_jsxs(\"span\",{className:'pvz_list_toggle'+(showDeliveryMap?' pvz_list_toggle_active':''),onClick:()=>{setShowDeliveryMap(true);setShowDeliveryList(false);},children:[/*#__PURE__*/_jsx(\"img\",{src:mapLocationDot}),\" \\u0432\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0435\"]})]})}),deliveryPoints&&cityObject&&showDeliveryList&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{className:\"pvz-search\",type:\"text\",onChange:handlePvzSearch,placeholder:\"\\u043D\\u0430\\u0447\\u043D\\u0438\\u0442\\u0435 \\u0432\\u0432\\u043E\\u0434\\u0438\\u0442\\u044C \\u0443\\u043B\\u0438\\u0446\\u0443\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"pvz_list\",children:[deliveryPointsList.map((deliveryPoint,index)=>{// Check the deliveryType and render accordingly\nif(deliveryType===1){return/*#__PURE__*/_jsxs(\"div\",{className:\"pvz_list_item hover_type_normal pointer\",onClick:()=>handlePlacemarkClick(index),children:[deliveryPoint.location.address,\". \",/*#__PURE__*/_jsx(\"b\",{children:deliveryPoint.type==='PVZ'?'Пункт выдачи':'Постамат'})]},deliveryPoint.code);}else if(deliveryType===4){return/*#__PURE__*/_jsx(\"div\",{className:\"pvz_list_item hover_type_special pointer\",onClick:()=>handlePlacemarkClick(index),children:deliveryPoint.AddressReduce},deliveryPoint.Code);}else if(deliveryType===6){return/*#__PURE__*/_jsxs(\"div\",{className:\"pvz_list_item hover_type_special pointer\",onClick:()=>handlePlacemarkClick(index),children:[deliveryPoint.shortAddress,\" \",/*#__PURE__*/_jsx(\"b\",{children:deliveryPoint.type!='POSTAMAT'?'Пункт выдачи':'Постамат'})]},deliveryPoint.id);}}),deliveryPointsList.length==0&&/*#__PURE__*/_jsx(\"div\",{className:\"pvz_list_item\",children:\"\\u041D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435\\u0442! \\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u044C\\u0442\\u0435, \\u0432\\u043E\\u0437\\u043C\\u043E\\u0436\\u043D\\u043E \\u0432\\u044B \\u043E\\u043F\\u0435\\u0447\\u0430\\u0442\\u0430\\u043B\\u0438\\u0441\\u044C\"})]})]}),deliveryPoints&&cityObject&&showDeliveryMap&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(YandexMap,{city:cityObject,deliveryPoints:deliveryPoints,handlePlacemarkClick:handlePlacemarkClick,deliveryType:deliveryType})}),selectedPvz&&/*#__PURE__*/_jsxs(_Fragment,{children:[deliveryType===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"selected_pvz\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"b\",{children:selectedPvz.type==='PVZ'?'Пункт выдачи СДЭК':'Постамат СДЭК'})}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u0410\\u0434\\u0440\\u0435\\u0441: \",selectedPvz.location.address]}),selectedPvz.note&&/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u041F\\u0440\\u0438\\u043C\\u0435\\u0447\\u0430\\u043D\\u0438\\u0435: \",selectedPvz.note]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"img\",{src:clockBold,alt:\"\\u0433\\u0440\\u0430\\u0444\\u0438\\u043A \\u0440\\u0430\\u0431\\u043E\\u0442\\u044B\"}),\" \",selectedPvz.work_time]}),/*#__PURE__*/_jsx(\"div\",{className:\"save_pvz\",onClick:selectedPvz.code===savedPvz.code?changePvz:savePvz,children:selectedPvz.code===savedPvz.code?'Изменить пункт':'Заберу отсюда'})]}),deliveryType===4&&/*#__PURE__*/_jsxs(\"div\",{className:\"selected_pvz\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"\\u041F\\u0443\\u043D\\u043A\\u0442 \\u0432\\u044B\\u0434\\u0430\\u0447\\u0438 Boxberry\"})}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u0410\\u0434\\u0440\\u0435\\u0441: \",selectedPvz.AddressReduce]}),selectedPvz.TripDescription&&/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u041F\\u0440\\u0438\\u043C\\u0435\\u0447\\u0430\\u043D\\u0438\\u0435: \",selectedPvz.TripDescription]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"img\",{src:clockBold,alt:\"\\u0433\\u0440\\u0430\\u0444\\u0438\\u043A \\u0440\\u0430\\u0431\\u043E\\u0442\\u044B\"}),\" \",selectedPvz.WorkShedule]}),/*#__PURE__*/_jsx(\"div\",{className:\"save_pvz\",onClick:selectedPvz.Code===savedPvz.Code?changePvz:savePvz,children:selectedPvz.Code===savedPvz.Code?'Изменить пункт':'Выбрать этот пункт'})]}),deliveryType===6&&/*#__PURE__*/_jsxs(\"div\",{className:\"selected_pvz\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"b\",{children:selectedPvz.type==='POSTAMAT'?'Постамат 5post':'Пункт выдачи 5post'})}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u0410\\u0434\\u0440\\u0435\\u0441: \",selectedPvz.shortAddress]}),selectedPvz.additional&&/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u041F\\u0440\\u0438\\u043C\\u0435\\u0447\\u0430\\u043D\\u0438\\u0435: \",selectedPvz.additional]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"img\",{src:clockBold,alt:\"\\u0433\\u0440\\u0430\\u0444\\u0438\\u043A \\u0440\\u0430\\u0431\\u043E\\u0442\\u044B\"}),\" \",fivepostWorkHours(selectedPvz.workHours)]}),/*#__PURE__*/_jsx(\"div\",{className:\"save_pvz\",onClick:selectedPvz.id===savedPvz.id?changePvz:savePvz,children:selectedPvz.id===savedPvz.id?'Изменить пункт':'Выбрать этот пункт'})]})]})]}):deliveryType===2||deliveryType===5?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"deliveryAddress\",children:\"\\u0412\\u0430\\u0448 \\u0430\\u0434\\u0440\\u0435\\u0441*\"}),/*#__PURE__*/_jsx(\"input\",{className:\"delivery-text-input\",type:\"text\",id:\"deliveryAddress\",placeholder:\"\\u0423\\u043B\\u0438\\u0446\\u0430, \\u0434\\u043E\\u043C, \\u043A\\u0432\\u0430\\u0440\\u0442\\u0438\\u0440\\u0430\",value:deliveryAddress||'',onChange:e=>setDeliveryAddress(e.target.value)})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"postalCode\",children:\"\\u041F\\u043E\\u0447\\u0442\\u043E\\u0432\\u044B\\u0439 \\u0438\\u043D\\u0434\\u0435\\u043A\\u0441*\"}),/*#__PURE__*/_jsx(\"input\",{className:\"delivery-text-input\",type:\"number\",id:\"postalCode\",placeholder:\"\",value:postalCode||'',onChange:e=>setPostalCode(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"deliveryAddress\",children:\"\\u0412\\u0430\\u0448 \\u0430\\u0434\\u0440\\u0435\\u0441*\"}),/*#__PURE__*/_jsx(\"input\",{className:\"delivery-text-input\",type:\"text\",id:\"deliveryAddress\",placeholder:\"\\u0423\\u043B\\u0438\\u0446\\u0430, \\u0434\\u043E\\u043C, \\u043A\\u0432\\u0430\\u0440\\u0442\\u0438\\u0440\\u0430\",value:deliveryAddress||'',onChange:e=>setDeliveryAddress(e.target.value)})]})})]}),cityCode&&deliveryType&&/*#__PURE__*/_jsxs(\"div\",{className:\"ordering__payment\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"ordering__subheader\",children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0441\\u043F\\u043E\\u0441\\u043E\\u0431 \\u043E\\u043F\\u043B\\u0430\\u0442\\u044B:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-list\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"payment-label\",htmlFor:\"1p\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"payment\",value:1,id:\"1p\",className:\"payment-radio\",onChange:handlePaymentChange,checked:paymentType===1}),/*#__PURE__*/_jsx(\"div\",{className:\"payment-list-item\",children:/*#__PURE__*/_jsx(\"img\",{className:\"payment-pic\",src:cardPic,alt:\"\\u041E\\u043F\\u043B\\u0430\\u0442\\u0430 \\u043A\\u0430\\u0440\\u0442\\u043E\\u0439 \\u043B\\u044E\\u0431\\u043E\\u0433\\u043E \\u0431\\u0430\\u043D\\u043A\\u0430\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"payment-caption\",children:[\"\\u041E\\u043F\\u043B\\u0430\\u0442\\u0430 \\u043E\\u043D\\u043B\\u0430\\u0439\\u043D \",/*#__PURE__*/_jsx(\"img\",{className:\"checkmark\",src:checkMark}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"delivery_discount\",children:\"-3%\"})]})]}),deliveryType===3||deliveryType===6?null:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"3p\",className:\"payment-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"payment\",value:3,id:\"3p\",className:\"payment-radio\",onChange:handlePaymentChange,checked:paymentType===3}),/*#__PURE__*/_jsx(\"div\",{className:\"payment-list-item\",children:/*#__PURE__*/_jsx(\"img\",{className:\"payment-pic\",src:walletPic,alt:\"\\u041E\\u043F\\u043B\\u0430\\u0442\\u0430 \\u043F\\u0440\\u0438 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u0438\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"payment-caption\",children:[\"\\u041D\\u0430\\u043B\\u043E\\u0436\\u0435\\u043D\\u043D\\u044B\\u0439 \\u043F\\u043B\\u0430\\u0442\\u0451\\u0436 \",/*#__PURE__*/_jsx(\"img\",{className:\"checkmark\",src:checkMark}),\" \"]})]})]})]}),cityCode&&deliveryType&&/*#__PURE__*/_jsxs(\"div\",{className:\"ordering__user-info\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"ordering__subheader\",children:\"\\u041F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0438\\u0439 \\u0448\\u0430\\u0433\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-inputs\",children:[!gotEmail?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"\\u042D\\u043B\\u0435\\u043A\\u0442\\u0440\\u043E\\u043D\\u043D\\u0430\\u044F \\u043F\\u043E\\u0447\\u0442\\u0430*\"}),/*#__PURE__*/_jsx(\"input\",{className:\"delivery-text-input\",type:\"email\",id:\"email\",placeholder:\"\",onChange:e=>setEmail(e.target.value),value:email||''})]}):null,/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fullName\",children:\"\\u0424\\u0418\\u041E \\u043F\\u043E\\u043B\\u0443\\u0447\\u0430\\u0442\\u0435\\u043B\\u044F*\"}),/*#__PURE__*/_jsx(\"input\",{className:\"delivery-text-input\",type:\"name\",id:\"fullName\",placeholder:\"\",onChange:e=>setFullName(e.target.value),value:fullName||''}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",children:\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D*\"}),/*#__PURE__*/_jsx(\"input\",{className:\"delivery-text-input\",type:\"tel\",id:\"phone\",onChange:e=>setPhone(e.target.value),value:phone||'+7'}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"callback\",className:\"callback-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"callback\",id:\"callback\",className:\"callback-input\"}),\"\\u0422\\u0440\\u0435\\u0431\\u0443\\u0435\\u0442\\u0441\\u044F \\u0437\\u0432\\u043E\\u043D\\u043E\\u043A \\u043C\\u0435\\u043D\\u0435\\u0434\\u0436\\u0435\\u0440\\u0430\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"comment\",children:\"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439 \\u043A \\u0437\\u0430\\u043A\\u0430\\u0437\\u0443\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"delivery-text-input delivery-comment-input \",id:\"comment\",placeholder:\"\",onChange:e=>setComment(e.target.value),value:comment||''})]})]})]}),isBigScreen&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"ordering__summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary__form\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"summary__subheader\",children:\"\\u0422\\u043E\\u0432\\u0430\\u0440\\u044B\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ordering__products\",children:cartProducts.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"ordering__product\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/product/\"+product.slug+\"-\"+product.productId,className:\"\",target:\"_blank\",children:product.title}),/*#__PURE__*/_jsx(\"span\",{className:\"summary__product-price\",children:product.salePrice>0?/*#__PURE__*/_jsxs(\"div\",{className:\"sale-container\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"summary__product-price_crossed\",children:[product.price,\" \\u20BD\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"summary__product-sale-price\",children:[product.salePrice,\" \\u20BD\"]})]}):/*#__PURE__*/_jsxs(\"span\",{className:\"summary__product-price\",children:[product.price,\" \\u20BD\"]})})]},product.productId))}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-container_2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-text\",children:[\"\\u0414\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0430: \",/*#__PURE__*/_jsx(\"span\",{className:isDeliveryInfo?'free-delivery free-delivery_visible':'free-delivery',children:/*#__PURE__*/_jsxs(\"div\",{children:[\"-20% \\u043F\\u0440\\u0438 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0435 \\u043E\\u0442 2000 \\u20BD \",/*#__PURE__*/_jsx(\"br\",{}),\"-30% \\u043F\\u0440\\u0438 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0435 \\u043E\\u0442 3000 \\u20BD \",/*#__PURE__*/_jsx(\"br\",{}),\"\\u0431\\u0435\\u0441\\u043F\\u043B\\u0430\\u0442\\u043D\\u043E \\u043F\\u0440\\u0438 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0435 \\u043E\\u0442 5000 \\u20BD\"]})})]}),/*#__PURE__*/_jsx(\"img\",{onClick:showDeliveryInfo,src:questionIcon,className:\"summary__delivery-q\"}),deliveryType!=0?/*#__PURE__*/_jsx(\"div\",{className:\"summary-text\",children:deliveryDiscountIsActive?/*#__PURE__*/_jsxs(\"div\",{className:\"sale-container\",children:[/*#__PURE__*/_jsxs(\"span\",{style:{marginRight:'10px'},className:\"summary__product-price_crossed\",children:[deliveryPrice,\" \\u20BD\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"summary__product-sale-price\",children:[discountedDeliveryPrice,\" \\u20BD\"]})]}):/*#__PURE__*/_jsxs(\"span\",{children:[deliveryPrice,\" \\u20BD\"]})}):/*#__PURE__*/_jsx(\"div\",{className:\"summary-text\",children:\"\\u041D\\u0435 \\u0432\\u044B\\u0431\\u0440\\u0430\\u043D\\u0430\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-container_2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"summary-text\",children:\"\\u0421\\u043A\\u0438\\u0434\\u043A\\u0430 \\u043F\\u043E \\u043F\\u0440\\u0435\\u0434\\u043E\\u043F\\u043B\\u0430\\u0442\\u0435:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-text\",style:{fontSize:'16px'},children:[\"- \",paymentDiscount,\" \\u20BD\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-container_2\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"sum-header\",children:[\"\\u0418\\u0442\\u043E\\u0433\\u043E: \",total,\" \\u20BD\"]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",name:\"cart-submit\",className:\"ordering__submit-button hover_type_normal pointer\",disabled:!isConsent||!isAllFilled||isSubmitting,children:isAllFilled?paymentType===3?'Оформить заказ':'Перейти к оплате':'Заполните информацию для доставки'}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"license\",className:\"callback-label cart__sum-caption\",style:{marginBottom:'0'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"license\",id:\"license\",className:\"callback-input\",checked:isConsent,onChange:handleConsent}),\"\\u042F \\u0434\\u0430\\u044E \\u0441\\u043E\\u0433\\u043B\\u0430\\u0441\\u0438\\u0435 \\u043D\\u0430 \\u043E\\u0431\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0443 \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u043B\\u044C\\u043D\\u044B\\u0445 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ordering-notion\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"notion-header\",children:\"\\u0412\\u043E\\u0437\\u043D\\u0438\\u043A\\u043B\\u0438 \\u043F\\u0440\\u043E\\u0431\\u043B\\u0435\\u043C\\u044B \\u0441 \\u0437\\u0430\\u043A\\u0430\\u0437\\u043E\\u043C?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"notion-maintext\",children:\"\\u041C\\u044B \\u0435\\u0449\\u0451 \\u043E\\u0442\\u043B\\u0430\\u0436\\u0438\\u0432\\u0430\\u0435\\u043C \\u043D\\u0430\\u0448 \\u043D\\u043E\\u0432\\u044B\\u0439 \\u0441\\u0430\\u0439\\u0442!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"notion-maintext\",children:\"\\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \\u043F\\u043E\\u0437\\u0432\\u043E\\u043D\\u0438\\u0442\\u0435 \\u043D\\u0430\\u043C!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"notion-header\",children:\"8 800 200 17 05\"})]})]})}),isSmallScreen&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart__summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart__form\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"summary__subheader\",children:\"\\u0422\\u043E\\u0432\\u0430\\u0440\\u044B:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ordering__products\",children:cartProducts.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"ordering__product\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"\",children:product.title}),/*#__PURE__*/_jsx(\"span\",{className:\"summary__product-price\",children:product.salePrice>0?/*#__PURE__*/_jsxs(\"div\",{className:\"sale-container\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"summary__product-price_crossed\",children:[product.price,\" \\u20BD\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"summary__product-sale-price\",children:[product.salePrice,\" \\u20BD\"]})]}):/*#__PURE__*/_jsxs(\"span\",{className:\"summary__product-price\",children:[product.price,\" \\u20BD\"]})})]},product.productId))}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"license\",className:\"callback-label cart__sum-caption\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"license\",id:\"license\",className:\"callback-input\",checked:isConsent,onChange:handleConsent}),\"\\u042F \\u0434\\u0430\\u044E \\u0441\\u043E\\u0433\\u043B\\u0430\\u0441\\u0438\\u0435 \\u043D\\u0430 \\u043E\\u0431\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0443 \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u043B\\u044C\\u043D\\u044B\\u0445 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ordering-notion\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"notion-header\",children:\"\\u0412\\u043E\\u0437\\u043D\\u0438\\u043A\\u043B\\u0438 \\u043F\\u0440\\u043E\\u0431\\u043B\\u0435\\u043C\\u044B \\u0441 \\u0437\\u0430\\u043A\\u0430\\u0437\\u043E\\u043C?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"notion-maintext\",children:\"\\u041C\\u044B \\u0435\\u0449\\u0451 \\u043E\\u0442\\u043B\\u0430\\u0436\\u0438\\u0432\\u0430\\u0435\\u043C \\u043D\\u0430\\u0448 \\u043D\\u043E\\u0432\\u044B\\u0439 \\u0441\\u0430\\u0439\\u0442!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"notion-maintext\",children:\"\\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \\u043F\\u043E\\u0437\\u0432\\u043E\\u043D\\u0438\\u0442\\u0435 \\u043D\\u0430\\u043C!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"notion-header\",children:\"8 800 200 17 05\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fixed-form\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{alignItems:'center'},className:\"fixed-form__container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-text\",children:[\"\\u0414\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0430: \",/*#__PURE__*/_jsx(\"span\",{className:isDeliveryInfo?'free-delivery free-delivery_visible':'free-delivery',children:/*#__PURE__*/_jsxs(\"div\",{children:[\"-20% \\u043F\\u0440\\u0438 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0435 \\u043E\\u0442 2000 \\u20BD \",/*#__PURE__*/_jsx(\"br\",{}),\"-30% \\u043F\\u0440\\u0438 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0435 \\u043E\\u0442 3000 \\u20BD \",/*#__PURE__*/_jsx(\"br\",{}),\"\\u0431\\u0435\\u0441\\u043F\\u043B\\u0430\\u0442\\u043D\\u043E \\u043F\\u0440\\u0438 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0435 \\u043E\\u0442 5000 \\u20BD\"]})})]}),/*#__PURE__*/_jsx(\"img\",{onClick:showDeliveryInfo,src:questionIcon,className:\"summary__delivery-q\"}),deliveryType!=0?/*#__PURE__*/_jsx(\"div\",{className:\"summary-text\",children:deliveryDiscountIsActive?/*#__PURE__*/_jsxs(\"div\",{className:\"sale-container\",children:[/*#__PURE__*/_jsxs(\"span\",{style:{marginRight:'10px'},className:\"summary__product-price_crossed\",children:[deliveryPrice,\" \\u20BD\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"summary__product-sale-price\",children:[discountedDeliveryPrice,\" \\u20BD\"]})]}):/*#__PURE__*/_jsxs(\"span\",{children:[deliveryPrice,\" \\u20BD\"]})}):/*#__PURE__*/_jsx(\"div\",{className:\"summary-text\",children:\"\\u041D\\u0435 \\u0432\\u044B\\u0431\\u0440\\u0430\\u043D\\u0430\"})]}),paymentDiscount>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"fixed-form__container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"summary-text\",children:\"\\u0421\\u043A\\u0438\\u0434\\u043A\\u0430 \\u043F\\u043E \\u043F\\u0440\\u0435\\u0434\\u043E\\u043F\\u043B\\u0430\\u0442\\u0435:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-text\",children:[\"- \",paymentDiscount,\" \\u20BD\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fixed-form__container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"sum-header\",children:\"\\u0418\\u0442\\u043E\\u0433\\u043E: \"}),/*#__PURE__*/_jsxs(\"p\",{className:\"sum-header\",children:[total,\" \\u20BD\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"fixed-form__container\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",name:\"cart-submit\",style:{margin:'10px 0 15px 0'},className:\"cart__submit-button ordering__submit-button hover_type_normal pointer\",disabled:!isConsent||!isAllFilled||isSubmitting,children:isAllFilled?paymentType===3?'Оформить заказ':'Перейти к оплате':'Заполните информацию для доставки'})})]})]})]})]})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}