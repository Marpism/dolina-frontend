{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Maria\\\\Desktop\\\\Coding\\\\01dolina\\\\dolina_frontend\\\\src\\\\components\\\\AdminPanel\\\\ProductConstructor.js\",\n  _s = $RefreshSig$();\nimport eyeIcon from '../../images/eye.svg';\nimport loadingIcon from '../../images/loading.svg';\nimport React, { useState, useEffect } from 'react';\n// import Header from '../Header/Header';\nimport AdminHeader from './AdminHeader';\nimport './ProductConstructor.css';\nimport FileUploader from './FileUploader';\nimport adminApi from '../../utils/adminApi';\nimport productsApi from '../../utils/Api';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { DEFAULT_COLOR_LIST, FEATURES_LIST, HARDCODED_CATEGORIES } from '../../utils/constants';\nimport checkSquare from '../../images/check-square.svg';\nimport fileDashed from '../../images/file-dashed.svg';\nimport copySimple from '../../images/copy-simple.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ProductConstructor({\n  terms\n}) {\n  _s();\n  const navigate = useNavigate();\n  const {\n    productId,\n    copy\n  } = useParams();\n  const [editing, setEditing] = useState(false);\n  const [savingInProgress, setSavingInProgress] = useState(false);\n\n  // if (productId < 1) setEditing(false);\n\n  // file uploader variables\n  const [images, setImages] = useState([]);\n  const [videos, setVideos] = useState([]);\n  const [buttonColor, setButtonColor] = useState('');\n  const [productName, setProductName] = useState('');\n  const [productDescription, setProductDescription] = useState('');\n  const [colorsToSelectFrom, setColorsToSelectFrom] = useState(DEFAULT_COLOR_LIST);\n  const [colors, setColors] = useState([]);\n  const [length, setLength] = useState('');\n  const [weight, setWeight] = useState('');\n  const [stoneOrigin, setStoneOrigin] = useState('');\n  const [metalType, setMetalType] = useState('');\n  const [stoneSize, setStoneSize] = useState('');\n  const [production, setProduction] = useState('');\n  const [price, setPrice] = useState('');\n  const [salePrice, setSalePrice] = useState('');\n  const [discount, setDiscount] = useState(0);\n  const [articleNumber, setArticleNumber] = useState('');\n  const [inStock, setInStock] = useState(1);\n  const [status, setStatus] = useState(0);\n  const [categoriesSelected, setCategoriesSelected] = useState([]);\n  const [stonesSearchResults, setStonesSearchResults] = useState([]);\n  const [isStonesSearchResultsShowing, setIsStonesSearchResultsShowing] = useState(false);\n  const [stonesSelected, setStonesSelected] = useState([]);\n  const [stonesInputValue, setStonesInputValue] = useState('');\n  const [sizesSearchResults, setSizesSearchResults] = useState([]);\n  const [isSizesSearchResultsShowing, setIsSizesSearchResultsShowing] = useState(false);\n  const [sizesSelected, setSizesSelected] = useState([]);\n  const [sizeInputValue, setSizeInputValue] = useState('');\n  const [features, setFeatures] = useState({\n    unique: 0,\n    masterpiece: 0,\n    iridescent: 0,\n    minimalism: 0,\n    star: 0\n  });\n  function handleFeatureChange(featureSlug) {\n    let newValue = features[featureSlug] == 1 ? 0 : 1;\n    setFeatures({\n      ...features,\n      [featureSlug]: newValue\n    });\n  }\n  const [upsellsSearchResults, setUpsellsSearchResults] = useState([]);\n  const [isUpsellsSearchResultsShowing, setIsUpsellsSearchResultsShowing] = useState(false);\n  const [upsellsSelected, setUpsellsSelected] = useState([]);\n\n  // console.log(stoneTags);\n  // console.log(attachedFiles)\n  // console.log(terms)\n\n  useEffect(() => {\n    if (productId > 0) {\n      setEditing(true);\n      productsApi.getProduct(productId).then(data => {\n        var _product$text, _product$discount, _product$salePrice, _product$length, _product$weight, _product$SKU, _product$colors, _product$ringSizes;\n        const product = data[0];\n        if (copy) product.productId = '';\n        setEditing(product);\n        setProductName(product.title);\n        setProductDescription((_product$text = product.text) !== null && _product$text !== void 0 ? _product$text : '');\n        setPrice(product.price);\n        setDiscount((_product$discount = product.discount) !== null && _product$discount !== void 0 ? _product$discount : 0);\n        setSalePrice((_product$salePrice = product.salePrice) !== null && _product$salePrice !== void 0 ? _product$salePrice : '');\n        // REMOVE EVERYTHING BUT THE DOTS BETWEEN DIGITS -- SOMETHING LIKE THIS /(^\\D+|\\D+$)|[^.\\d]+|(\\.\\.+)/g, ''\n        setLength((_product$length = product.length) !== null && _product$length !== void 0 ? _product$length : '');\n        setWeight((_product$weight = product.weight) !== null && _product$weight !== void 0 ? _product$weight : '');\n        setStoneOrigin(product.stoneOrigin);\n        setProduction(product.origin);\n        setStoneSize(product.stoneSize);\n        setMetalType(product.metalType);\n        setFeatures({\n          ...features,\n          ['iridescent']: product.iridescent,\n          ['unique']: product.unique,\n          ['masterpiece']: product.masterpiece,\n          ['minimalism']: product.minimalism,\n          ['star']: product.star\n        });\n        setArticleNumber((_product$SKU = product.SKU) !== null && _product$SKU !== void 0 ? _product$SKU : '');\n        setStatus(product.published);\n        setInStock(product.inStock);\n        if (!copy) setButtonColor(product.color);\n        setCategoriesSelected(product.categories.map(category => parseInt(category.termId)));\n        setStonesSelected(product.tags);\n        product.pictures.forEach(picture => picture.colors = JSON.parse(picture.colors));\n        if (!copy) setImages(product.pictures);\n        if (!copy) setVideos(product.videos);\n        DEFAULT_COLOR_LIST.forEach(defaultColor => {\n          // hopefully a temporary hack\n          const color = product.colors.find(c => c.termId == defaultColor.termId);\n          if (color) {\n            color.extra = defaultColor.extra;\n          }\n        });\n        setColors((_product$colors = product.colors) !== null && _product$colors !== void 0 ? _product$colors : []);\n        setSizesSelected((_product$ringSizes = product.ringSizes) !== null && _product$ringSizes !== void 0 ? _product$ringSizes : []);\n        productsApi.getProductsById([product.upsells]).then(res => {\n          setUpsellsSelected(res);\n        });\n      });\n    }\n  }, [productId]);\n  const handleFormSubmit = async e => {\n    e.preventDefault();\n    const productData = {\n      title: productName,\n      text: productDescription,\n      price: parseInt(price),\n      discount: parseInt(discount),\n      salePrice: salePrice,\n      length: length,\n      weight: weight,\n      stoneOrigin: stoneOrigin,\n      origin: production,\n      stoneSize: stoneSize,\n      metalType: metalType,\n      iridescent: features.iridescent,\n      unique: features.unique,\n      masterpiece: features.masterpiece,\n      minimalism: features.minimalism,\n      star: features.star,\n      SKU: articleNumber,\n      published: status,\n      inStock: inStock,\n      color: buttonColor,\n      categories: categoriesSelected,\n      tags: [],\n      images: images,\n      videos: videos,\n      colors: [],\n      ringSizes: []\n    };\n\n    // if (categoriesSelected.includes()) // sizes split\n\n    stonesSelected.forEach(stone => {\n      productData.tags.push(stone.termId);\n    });\n    colors.forEach(color => {\n      productData.colors.push(color.termId);\n    });\n    sizesSelected.forEach(ringSize => {\n      productData.ringSizes.push(ringSize.termId);\n    });\n    const upsellProductIds = [];\n    upsellsSelected.forEach(upsell => {\n      upsellProductIds.push(upsell.productId);\n    });\n    productData.upsells = upsellProductIds.join(',');\n    console.log(productData);\n    setSavingInProgress(true);\n    if (editing.productId) {\n      productData.slug = editing.slug;\n      productData.productId = editing.productId;\n      const response = await adminApi.editProduct(productData);\n      console.log(response);\n      setSavingInProgress(false);\n    } else {\n      const response = await adminApi.addProduct(productData);\n      console.log(response);\n      setSavingInProgress(false);\n      navigate('/administration/product/' + response.productId);\n    }\n  };\n\n  // CATEGORIES\n\n  function handleCategoryChange(e) {\n    console.log(categoriesSelected);\n    const termId = parseInt(e.target.value);\n    if (!categoriesSelected.includes(termId)) {\n      setCategoriesSelected([...categoriesSelected, termId]);\n    } else {\n      setCategoriesSelected(categoriesSelected.filter(catId => catId !== termId));\n    }\n  }\n\n  // STONES\n\n  function handleStonesInput(input) {\n    const inputValue = input.target.value;\n    setStonesInputValue(inputValue);\n    if (inputValue.length > 0) {\n      const filteredStones = terms.tags.filter(tag => tag.name.toLowerCase().includes(inputValue.toLowerCase()));\n      setStonesSearchResults(filteredStones.slice(0, 24));\n      setIsStonesSearchResultsShowing(true);\n    } else {\n      setStonesSearchResults([]);\n      setIsStonesSearchResultsShowing(false);\n    }\n  }\n  function handleStoneSelect(stone) {\n    setStonesSelected(prevStones => [...prevStones, stone]);\n    setIsStonesSearchResultsShowing(false);\n    document.getElementById('stonesInput').value = '';\n  }\n  function handleStoneRemoval(termId) {\n    setStonesSelected(prevStones => prevStones.filter(stone => stone.termId !== termId));\n  }\n  function closeStoneSearchResults() {\n    setIsStonesSearchResultsShowing(false);\n    document.getElementById('stonesInput').value = '';\n  }\n\n  // SIZES\n\n  function handleSizesInput(input) {\n    const inputValue = input.target.value;\n    setSizeInputValue(inputValue);\n    if (inputValue.length > 0) {\n      const filteredSizes = terms.ringSizes.filter(ringSize => ringSize.name.replace(',', '.').includes(inputValue.replace(',', '.')));\n      setSizesSearchResults(filteredSizes);\n      setIsSizesSearchResultsShowing(true);\n    } else {\n      setSizesSearchResults([]);\n      setIsSizesSearchResultsShowing(false);\n    }\n  }\n  function handleSizeSelect(size) {\n    setSizesSelected(prevSizes => [...prevSizes, size]);\n    setIsSizesSearchResultsShowing(false);\n    document.getElementById('sizesInput').value = '';\n  }\n  function handleSizeRemoval(termId) {\n    setSizesSelected(prevSizes => prevSizes.filter(size => size.termId !== termId));\n  }\n  function closeSizeSearchResults() {\n    setIsSizesSearchResultsShowing(false);\n    document.getElementById('sizesInput').value = '';\n  }\n  function handleColorSelect(color) {\n    if (!colors.includes(color)) {\n      setColors(prevColors => [...prevColors, color]);\n    } else {\n      setColors(prevColors => prevColors.filter(item => item.name !== color.name));\n    }\n  }\n  function handleColorUnSelect(color) {\n    setColors(prevColors => prevColors.filter(item => item.name !== color.name));\n  }\n  const colorsToSelect = colorsToSelectFrom.map(object => {\n    const color = object.extra;\n    const slug = object.slug;\n    const isSpecialColor = slug === 'black' || slug === 'burgundy' || slug === 'brown';\n    let labelClass = `cat-checkbox__label ${isSpecialColor ? 'white-font' : ''}`;\n    if (colors.some(c => c.termId == object.termId)) labelClass += ' opacity-low';\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: labelClass + ' color-button unselectable',\n      style: {\n        background: color\n      },\n      \"data-color\": slug,\n      onClick: () => handleColorSelect(object),\n      children: object.name\n    }, slug, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this);\n  });\n  const colorsSelected = colors.map(object => {\n    const color = object.extra;\n    const slug = object.slug;\n    const isSpecialColor = slug === 'black' || slug === 'burgundy' || slug === 'brown';\n    const labelClass = `cat-checkbox__label ${isSpecialColor ? ' white-font' : ''}`;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: labelClass + ' color-button unselectable',\n      style: {\n        background: color\n      },\n      \"data-color\": slug,\n      onClick: () => handleColorUnSelect(object),\n      children: object.name\n    }, slug, false, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this);\n  });\n\n  // useEffect(() => {\n  //   if (price > 0 && discount > 0) {\n  //     setSalePrice(Math.floor((price - (price / 100 * discount)) / 10) * 10);\n  //   } else {\n  //     setSalePrice('');\n  //   }\n  // }, [colors]);\n\n  // UPSELLS\n\n  async function handleUpsellsInput(input) {\n    const inputValue = input.target.value;\n    if (inputValue.length > 0) {\n      const searchResults = await adminApi.productSearch(input.target.value);\n      setUpsellsSearchResults(searchResults.slice(0, 10));\n      setIsUpsellsSearchResultsShowing(true);\n    } else {\n      setUpsellsSearchResults([]);\n      setIsUpsellsSearchResultsShowing(false);\n    }\n  }\n  function handleUpsellSelect(product) {\n    setUpsellsSelected(prevUpsells => [...prevUpsells, product]);\n  }\n  function handleUpsellRemoval(productId) {\n    setUpsellsSelected(prevUpsells => prevUpsells.filter(product => product.productId !== productId));\n  }\n  function closeUpsellsSearchResults() {\n    setIsUpsellsSearchResultsShowing(false);\n    document.getElementById('upsellsInput').value = '';\n  }\n\n  // discount\n  useEffect(() => {\n    if (price > 0 && discount > 0) {\n      setSalePrice(Math.floor((price - price / 100 * discount) / 10) * 10);\n    } else {\n      setSalePrice('');\n    }\n  }, [discount, price]);\n\n  // useEffect(() => {\n  //   const handleBeforeUnload = (event) => {\n  //     event.preventDefault();\n  //     event.returnValue = ''; // Modern browsers ignore this, but it's needed for some older ones\n  //   };\n\n  //   window.addEventListener('beforeunload', handleBeforeUnload);\n\n  //   return () => {\n  //     window.removeEventListener('beforeunload', handleBeforeUnload);\n  //   };\n  // }, []);\n\n  function addterm(type, name) {\n    adminApi.addterm(type, name).then(response => {\n      if (type === 'tag') handleStoneSelect(response.insertedTerm);\n      if (type === 'pa_razmer') handleSizeSelect(response.insertedTerm);\n    });\n  }\n  ;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [editing && !copy && !editing.productId && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin_page_is_loading\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: loadingIcon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 89\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 50\n    }, this), copy && !editing.title && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin_page_is_loading\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: loadingIcon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 73\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 34\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin_page\",\n      children: [/*#__PURE__*/_jsxDEV(AdminHeader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: editing.productId ? 'Редактирование товара' : 'Добавление товара'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"product-constructor\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"add-form\",\n          onSubmit: handleFormSubmit,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"left-block\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"block\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"input_size_long input-title\",\n                  type: \"text\",\n                  id: \"productName\",\n                  value: productName,\n                  placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\",\n                  onChange: e => setProductName(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  className: \"input_size_long input_size_big\",\n                  id: \"productDescription\",\n                  value: productDescription,\n                  placeholder: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\",\n                  onChange: e => setProductDescription(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(FileUploader, {\n                images: images,\n                setImages: setImages,\n                videos: videos,\n                setVideos: setVideos,\n                buttonColor: buttonColor,\n                setButtonColor: setButtonColor\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"block\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cats-div\",\n                  children: HARDCODED_CATEGORIES.map(term => /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: 'cat-' + term.slug,\n                    className: \"cat-checkbox__label\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"cat-checkbox\",\n                      type: \"checkbox\",\n                      name: \"category\",\n                      value: term.termId,\n                      id: 'cat-' + term.slug,\n                      onChange: handleCategoryChange,\n                      checked: categoriesSelected.includes(term.termId)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 448,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"pseudo-button pointer unselectable\",\n                      children: term.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 449,\n                      columnNumber: 23\n                    }, this)]\n                  }, term.termId, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 447,\n                    columnNumber: 21\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stones block\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u041A\\u0430\\u043C\\u043D\\u0438\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"stonesInput\",\n                  onChange: handleStonesInput,\n                  className: \"input_size_medium stones\",\n                  placeholder: \"\\u041D\\u0430\\u0447\\u043D\\u0438 \\u0432\\u0432\\u043E\\u0434\\u0438\\u0442\\u044C \\u043A\\u0430\\u043C\\u0435\\u043D\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 17\n                }, this), isStonesSearchResultsShowing && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stoneSearchResults\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stoneSearchResults-top\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: \"\\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u044B \\u043F\\u043E\\u0438\\u0441\\u043A\\u0430\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 469,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      onClick: closeStoneSearchResults,\n                      className: \"close_upsells_search_results\",\n                      children: \"[x] \\u0437\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 470,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 468,\n                    columnNumber: 21\n                  }, this), stonesSearchResults.length == 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"noStoneResults\",\n                    onClick: () => addterm('tag', stonesInputValue),\n                    children: [\"\\u041D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\", /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u0430\\u043C\\u0435\\u043D\\u044C: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: stonesInputValue\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 476,\n                        columnNumber: 178\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 476,\n                      columnNumber: 156\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 476,\n                    columnNumber: 58\n                  }, this), stonesSearchResults.map(stone => {\n                    if (!stonesSelected.includes(stone)) {\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"stoneSearchResult\",\n                        onClick: () => handleStoneSelect(stone),\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: stone.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 485,\n                          columnNumber: 29\n                        }, this)\n                      }, stone.termId, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 480,\n                        columnNumber: 27\n                      }, this);\n                    }\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 19\n                }, this), stonesSelected.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stonesSelected\",\n                  children: stonesSelected.map(stone => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stoneSelected\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: stone.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 503,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"thumbnail-button\",\n                      onClick: () => handleStoneRemoval(stone.termId)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 505,\n                      columnNumber: 27\n                    }, this)]\n                  }, stone.termId, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"block\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u0426\\u0432\\u0435\\u0442\\u0430 \\u043A\\u0430\\u043C\\u043D\\u0435\\u0439\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"colors-container\",\n                  children: colorsToSelect\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 17\n                }, this), colors.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"colors-selected\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"\\u0412\\u044B\\u0431\\u0440\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0446\\u0432\\u0435\\u0442\\u0430\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 526,\n                    columnNumber: 21\n                  }, this), colorsSelected]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 525,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"right-block\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"price_and_status\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"price_and_instock\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"instock block\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"price__item\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"input-stock\",\n                        className: \"instock_text\",\n                        children: \"\\u041D\\u0430\\u043B\\u0438\\u0447\\u0438\\u0435\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 546,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"instock_buttons instock_minus unselectable\",\n                        onClick: () => inStock > 0 && setInStock(parseInt(inStock) - 1),\n                        children: \"\\u2013\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 547,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"instock_input\",\n                        type: \"number\",\n                        id: \"input-stock\",\n                        value: inStock,\n                        onChange: e => setInStock(e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 548,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"instock_buttons instock_plus unselectable\",\n                        onClick: () => setInStock(parseInt(inStock) + 1),\n                        children: \"+\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 549,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 545,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 544,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"price_block block\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"input-price\",\n                      className: `full_price ${discount == 0 ? 'font-weight-600' : ''}`,\n                      children: \"\\u041F\\u043E\\u043B\\u043D\\u0430\\u044F \\u0446\\u0435\\u043D\\u0430\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 554,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: `price_input ${discount > 0 ? 'line-through opacity-medium' : ''}`,\n                      type: \"number\",\n                      placeholder: \"\",\n                      id: \"input-price\",\n                      value: price,\n                      onChange: e => setPrice(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 555,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `price_ruble_icon ${discount > 0 ? 'opacity-medium' : ''}`,\n                      children: \"\\u20BD\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 556,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"input-sale-price\",\n                      className: `sale_price ${discount > 0 ? 'font-weight-600' : 'opacity-medium'}`,\n                      children: \"\\u0426\\u0435\\u043D\\u0430 \\u043F\\u043E \\u0441\\u043A\\u0438\\u0434\\u043A\\u0435\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 558,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: `sale_price_display ${discount == 0 || price < 1 ? 'opacity-low' : ''}`,\n                      type: \"number\",\n                      id: \"input-sale-price\",\n                      value: salePrice,\n                      onChange: e => setSalePrice(e.target.value),\n                      disabled: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 559,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `sale_price_ruble ${discount == 0 ? 'opacity-low' : ''}`,\n                      children: \"\\u20BD\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 559,\n                      columnNumber: 224\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"input-discount\",\n                      className: `discount_text ${price < 1 ? 'opacity-low' : ''}`,\n                      children: \"\\u0421\\u043A\\u0438\\u0434\\u043A\\u0430\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 561,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"discount_slider\",\n                      type: \"range\",\n                      min: \"0\",\n                      max: \"50\",\n                      placeholder: \"0\",\n                      id: \"input-discount\",\n                      value: discount,\n                      onChange: e => setDiscount(e.target.value),\n                      disabled: price < 1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 562,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `discount_percentage ${price < 1 ? 'opacity-low' : ''}`,\n                      children: [discount, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 563,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 553,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 541,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"status_and_copy\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"block\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `status-button published ${status == 1 ? 'active' : ''}`,\n                      onClick: () => setStatus(1),\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: checkSquare,\n                        className: \"status_icon\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 574,\n                        columnNumber: 22\n                      }, this), \"\\u041E\\u043F\\u0443\\u0431\\u043B\\u0438\\u043A\\u043E\\u0432\\u0430\\u043D\\u043E\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 571,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `status-button draft ${status == 0 ? 'active' : ''}`,\n                      onClick: () => setStatus(0),\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: fileDashed,\n                        className: \"status_icon\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 580,\n                        columnNumber: 22\n                      }, this), \"\\u0427\\u0435\\u0440\\u043D\\u043E\\u0432\\u0438\\u043A\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 578,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 583,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"view_and_submit\",\n                      children: [editing.productId && /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: '/product/' + editing.slug + '-' + editing.productId,\n                        target: \"_blank\",\n                        className: \"view-product\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: eyeIcon\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 585,\n                          columnNumber: 149\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 585,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"submit-adding\",\n                        style: {\n                          gridColumn: editing.productId ? 'auto' : '1 / -1'\n                        },\n                        type: \"submit\",\n                        children: [!savingInProgress && (editing.productId ? 'Сохранить' : 'Создать'), savingInProgress && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"savingInProgress\",\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            src: loadingIcon\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 587,\n                            columnNumber: 78\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 587,\n                          columnNumber: 44\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 586,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 584,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 569,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"block\",\n                    style: {\n                      textAlign: 'center'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: '/administration/product/' + editing.productId + '/copy',\n                      className: \"copy_product\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: copySimple,\n                        className: \"status_icon\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 593,\n                        columnNumber: 113\n                      }, this), \" \\u041A\\u043E\\u043F\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0442\\u043E\\u0432\\u0430\\u0440\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 593,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 591,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 567,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chars__container block\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u0425\\u0430\\u0440\\u0430\\u043A\\u0442\\u0435\\u0440\\u0438\\u0441\\u0442\\u0438\\u043A\\u0438\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 600,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chars__item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"input-sku\",\n                    className: \"\",\n                    children: \"\\u0410\\u0440\\u0442\\u0438\\u043A\\u0443\\u043B\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 603,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"chars_input\",\n                    id: \"input-sku\",\n                    type: \"number\",\n                    placeholder: \"12345\",\n                    value: articleNumber || '',\n                    onChange: e => setArticleNumber(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 604,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 602,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chars__item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"input-length\",\n                    className: \"\",\n                    children: \"\\u0414\\u043B\\u0438\\u043D\\u0430 \\u0432 \\u0441\\u043C:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 608,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"chars_input\",\n                    id: \"input-length\",\n                    type: \"number\",\n                    placeholder: \"22,5\",\n                    value: length || '',\n                    onChange: e => setLength(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 609,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 607,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chars__item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"input-weight\",\n                    className: \"\",\n                    children: \"\\u0412\\u0435\\u0441 \\u0432 \\u0433\\u0440\\u0430\\u043C\\u043C\\u0430\\u0445:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 613,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"chars_input\",\n                    id: \"input-weight\",\n                    type: \"number\",\n                    placeholder: \"25\",\n                    value: weight || '',\n                    onChange: e => setWeight(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 614,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 612,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chars__item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"input-origin\",\n                    className: \"\",\n                    children: \"\\u041F\\u0440\\u043E\\u0438\\u0441\\u0445\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u0435 \\u043A\\u0430\\u043C\\u043D\\u044F:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 618,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"chars_input\",\n                    id: \"input-origin\",\n                    type: \"text\",\n                    placeholder: \"\\u042F\\u043A\\u0443\\u0442\\u0438\\u044F\",\n                    value: stoneOrigin || '',\n                    onChange: e => setStoneOrigin(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 619,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 617,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chars__item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"input-metal\",\n                    className: \"\",\n                    children: \"\\u041C\\u0435\\u0442\\u0430\\u043B\\u043B:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 623,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"chars_input\",\n                    id: \"input-metal\",\n                    type: \"text\",\n                    placeholder: \"\\u041C\\u0435\\u043B\\u044C\\u0445\\u0438\\u043E\\u0440\",\n                    value: metalType || '',\n                    onChange: e => setMetalType(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 624,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 622,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chars__item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"input-stonesize\",\n                    className: \"\",\n                    children: \"\\u0420\\u0430\\u0437\\u043C\\u0435\\u0440 \\u043A\\u0430\\u043C\\u043D\\u044F \\u0432 \\u0441\\u043C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 628,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"chars_input\",\n                    id: \"input-stonesize\",\n                    type: \"text\",\n                    placeholder: \"1,2 \\u0445 0,3\",\n                    value: stoneSize || '',\n                    onChange: e => setStoneSize(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 629,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 627,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chars__item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"input-production\",\n                    className: \"\",\n                    children: \"\\u041F\\u0440\\u043E\\u0438\\u0437\\u0432\\u043E\\u0434\\u0441\\u0442\\u0432\\u043E:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 633,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"chars_input\",\n                    id: \"input-production\",\n                    type: \"text\",\n                    placeholder: \"\\u0420\\u043E\\u0441\\u0441\\u0438\\u044F, \\u0415\\u043A\\u0430\\u0442\\u0435\\u0440\\u0438\\u043D\\u0431\\u0443\\u0440\\u0433\",\n                    value: production || '',\n                    onChange: e => setProduction(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 634,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 632,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 599,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"block\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u0420\\u0430\\u0437\\u043C\\u0435\\u0440\\u044B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 640,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  id: \"sizesInput\",\n                  onChange: handleSizesInput,\n                  className: \"input_size_medium sizes\",\n                  placeholder: \"\\u041D\\u0430\\u0447\\u043D\\u0438 \\u0432\\u0432\\u043E\\u0434\\u0438\\u0442\\u044C \\u0440\\u0430\\u0437\\u043C\\u0435\\u0440\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 641,\n                  columnNumber: 17\n                }, this), isSizesSearchResultsShowing && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"sizeSearchResults\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"sizeSearchResults-top\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: \"\\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u044B \\u043F\\u043E\\u0438\\u0441\\u043A\\u0430\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 653,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      onClick: closeSizeSearchResults,\n                      className: \"close_upsells_search_results\",\n                      children: \"[x] \\u0437\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 654,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 652,\n                    columnNumber: 21\n                  }, this), sizesSearchResults.length == 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"noSizeResults\",\n                    onClick: () => addterm('pa_razmer', sizeInputValue),\n                    children: [\"\\u041D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\", /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0440\\u0430\\u0437\\u043C\\u0435\\u0440: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: sizeInputValue\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 660,\n                        columnNumber: 180\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 660,\n                      columnNumber: 158\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 660,\n                    columnNumber: 57\n                  }, this), sizesSearchResults.map(size => {\n                    if (!sizesSelected.includes(size)) {\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"sizeSearchResult\",\n                        onClick: () => handleSizeSelect(size),\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: size.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 669,\n                          columnNumber: 29\n                        }, this)\n                      }, size.termId, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 664,\n                        columnNumber: 27\n                      }, this);\n                    }\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 651,\n                  columnNumber: 19\n                }, this), sizesSelected.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"sizesSelected\",\n                  children: sizesSelected.map(size => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"sizeSelected\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: size.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 687,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"thumbnail-button\",\n                      onClick: () => handleSizeRemoval(size.termId)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 689,\n                      columnNumber: 27\n                    }, this)]\n                  }, size.termId, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 682,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 679,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 639,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"block\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u0414\\u043E\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u044B\\u0435 \\u043C\\u0435\\u0442\\u043A\\u0438\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 704,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"features\",\n                  children: FEATURES_LIST.map(feature => /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: 'checkbox-' + feature.slug,\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"cat-checkbox\",\n                      type: \"checkbox\",\n                      checked: features[feature.slug] == 1,\n                      id: 'checkbox-' + feature.slug,\n                      name: \"special-tags\",\n                      value: feature.slug,\n                      onChange: () => handleFeatureChange(feature.slug)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 709,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"features-pseudo-button pointer unselectable\",\n                      children: feature.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 710,\n                      columnNumber: 23\n                    }, this)]\n                  }, feature.slug, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 708,\n                    columnNumber: 21\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 706,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 702,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"upsells block\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u0421\\u043E\\u043F\\u0443\\u0442\\u0441\\u0442\\u0432\\u0443\\u044E\\u0449\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u044B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 719,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"upsellsInput\",\n                  onChange: handleUpsellsInput,\n                  className: \"input_size_medium upsell\",\n                  placeholder: \"\\u041D\\u0430\\u0447\\u043D\\u0438 \\u0432\\u0432\\u043E\\u0434\\u0438\\u0442\\u044C \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 720,\n                  columnNumber: 17\n                }, this), isUpsellsSearchResultsShowing && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"upsellSearchResults\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"upsellSearchResults-top\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: \"\\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u044B \\u043F\\u043E\\u0438\\u0441\\u043A\\u0430\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 730,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      onClick: closeUpsellsSearchResults,\n                      className: \"close_upsells_search_results\",\n                      children: \"[x] \\u0437\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 731,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 729,\n                    columnNumber: 21\n                  }, this), upsellsSearchResults.length == 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"noUpsellResults\",\n                    children: \"\\u041D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 737,\n                    columnNumber: 59\n                  }, this), upsellsSearchResults.map(product => {\n                    if (!upsellsSelected.includes(product)) {\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"upsellSearchResult\",\n                        onClick: () => handleUpsellSelect(product),\n                        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"https://dolina.shop/photos/\" + product.pictures[0].path.slice(0, -4) + `_preview.jpg`,\n                          alt: product.title\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 746,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: product.title\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 747,\n                          columnNumber: 29\n                        }, this)]\n                      }, product.productId, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 741,\n                        columnNumber: 27\n                      }, this);\n                    }\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 728,\n                  columnNumber: 19\n                }, this), upsellsSelected.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"upsellsSelected\",\n                  children: upsellsSelected.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"upsellSelected\",\n                    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"http://localhost:3000/product/\" + product.slug + '-' + product.productId,\n                      target: \"_blank\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: \"https://dolina.shop/photos/\" + product.pictures[0].path.slice(0, -4) + `_preview.jpg`,\n                        alt: product.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 765,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: product.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 766,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 764,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"thumbnail-button\",\n                      onClick: () => handleUpsellRemoval(product.productId)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 769,\n                      columnNumber: 27\n                    }, this)]\n                  }, product.productId, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 759,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 756,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 718,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s(ProductConstructor, \"YYhnrjFHY+ARQLFYFTtRBRFu6hY=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = ProductConstructor;\n;\nexport default ProductConstructor;\n\n// Нужно написать jsx компонент добавления товара на сайт, сверстать такую структуру:\n\n// блок 1 слева +\n// - название\n// - редактор текста\n// - прикрепить или перетащить фото и видео\n\n// блок 1 справа\n// - радио баттон статус товара: черновик или опубликовано\n// - дата публикации\n// - кнопка сабмита всей формы\n// - посмотреть товар, ссылка на созданный товар открывается в новом окне\n\n// блок 2 слева +\n// - чекбоксы выбора категорий: Кольца, Бусы, Серьги, Подвески, Комплекты, Браслеты, Колье, Броши\n// - окно поиска по тегам по камням, где можно найти и выбрать несколько\n// - инпут длина изделия (число)\n// - инпут вес (число)\n// - инпут происхождение камня (текст)\n// - инпут металл (текст)\n// - инпут производство (текст)\n// - инпуты размер камня, шаблон с двумя окошками типа длина ширина\n\n// блок 2 справа\n// - Окно поиска по другим товарам для upsells, где можно находить и выбирать несколько\n\n// блок 3 слева\n// - инпут цена (число)\n// - инпут цена по распродаже (число)\n// - шкала с бегунком размер скидки в процентах;\n// - инпут артикул\n// - размеры (колец чекбоксы, браслета чекбоксы)\n// - инпут в наличии количество (число)\n\n// блок 3 справа:\n// - чекбокс выбора цвета кнопки товара, 3 варианта\n// - цвет камня чекбоксы\n// - чекбоксы дополнительных свойств: с переливом, минимализм, в единственном экземпляре\n// - чекбокс это избранный товар\n\n// - дублирующая кнопка сабмита всей формы\nvar _c;\n$RefreshReg$(_c, \"ProductConstructor\");","map":{"version":3,"names":["eyeIcon","loadingIcon","React","useState","useEffect","AdminHeader","FileUploader","adminApi","productsApi","useParams","useNavigate","DEFAULT_COLOR_LIST","FEATURES_LIST","HARDCODED_CATEGORIES","checkSquare","fileDashed","copySimple","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductConstructor","terms","_s","navigate","productId","copy","editing","setEditing","savingInProgress","setSavingInProgress","images","setImages","videos","setVideos","buttonColor","setButtonColor","productName","setProductName","productDescription","setProductDescription","colorsToSelectFrom","setColorsToSelectFrom","colors","setColors","length","setLength","weight","setWeight","stoneOrigin","setStoneOrigin","metalType","setMetalType","stoneSize","setStoneSize","production","setProduction","price","setPrice","salePrice","setSalePrice","discount","setDiscount","articleNumber","setArticleNumber","inStock","setInStock","status","setStatus","categoriesSelected","setCategoriesSelected","stonesSearchResults","setStonesSearchResults","isStonesSearchResultsShowing","setIsStonesSearchResultsShowing","stonesSelected","setStonesSelected","stonesInputValue","setStonesInputValue","sizesSearchResults","setSizesSearchResults","isSizesSearchResultsShowing","setIsSizesSearchResultsShowing","sizesSelected","setSizesSelected","sizeInputValue","setSizeInputValue","features","setFeatures","unique","masterpiece","iridescent","minimalism","star","handleFeatureChange","featureSlug","newValue","upsellsSearchResults","setUpsellsSearchResults","isUpsellsSearchResultsShowing","setIsUpsellsSearchResultsShowing","upsellsSelected","setUpsellsSelected","getProduct","then","data","_product$text","_product$discount","_product$salePrice","_product$length","_product$weight","_product$SKU","_product$colors","_product$ringSizes","product","title","text","origin","SKU","published","color","categories","map","category","parseInt","termId","tags","pictures","forEach","picture","JSON","parse","defaultColor","find","c","extra","ringSizes","getProductsById","upsells","res","handleFormSubmit","e","preventDefault","productData","stone","push","ringSize","upsellProductIds","upsell","join","console","log","slug","response","editProduct","addProduct","handleCategoryChange","target","value","includes","filter","catId","handleStonesInput","input","inputValue","filteredStones","tag","name","toLowerCase","slice","handleStoneSelect","prevStones","document","getElementById","handleStoneRemoval","closeStoneSearchResults","handleSizesInput","filteredSizes","replace","handleSizeSelect","size","prevSizes","handleSizeRemoval","closeSizeSearchResults","handleColorSelect","prevColors","item","handleColorUnSelect","colorsToSelect","object","isSpecialColor","labelClass","some","className","style","background","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","colorsSelected","handleUpsellsInput","searchResults","productSearch","handleUpsellSelect","prevUpsells","handleUpsellRemoval","closeUpsellsSearchResults","Math","floor","addterm","type","insertedTerm","src","onSubmit","id","placeholder","onChange","term","htmlFor","checked","disabled","min","max","href","gridColumn","textAlign","feature","path","alt","_c","$RefreshReg$"],"sources":["C:/Users/Maria/Desktop/Coding/01dolina/dolina_frontend/src/components/AdminPanel/ProductConstructor.js"],"sourcesContent":["import eyeIcon from '../../images/eye.svg';\r\nimport loadingIcon from '../../images/loading.svg';\r\nimport React, { useState, useEffect } from 'react';\r\n// import Header from '../Header/Header';\r\nimport AdminHeader from './AdminHeader';\r\nimport './ProductConstructor.css';\r\nimport FileUploader from './FileUploader';\r\nimport adminApi from '../../utils/adminApi';\r\nimport productsApi from '../../utils/Api';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { DEFAULT_COLOR_LIST, FEATURES_LIST, HARDCODED_CATEGORIES } from '../../utils/constants';\r\n\r\nimport checkSquare from '../../images/check-square.svg';\r\nimport fileDashed from '../../images/file-dashed.svg';\r\nimport copySimple from '../../images/copy-simple.svg';\r\n\r\nfunction ProductConstructor({ terms }) {\r\n\r\n  const navigate = useNavigate();\r\n  \r\n  const { productId, copy } = useParams();\r\n  const [editing, setEditing] = useState(false);\r\n  const [savingInProgress, setSavingInProgress] = useState(false);\r\n\r\n  // if (productId < 1) setEditing(false);\r\n\r\n  // file uploader variables\r\n  const [images, setImages] = useState([]);\r\n  const [videos, setVideos] = useState([]);\r\n  const [buttonColor, setButtonColor] = useState('');\r\n\r\n  const [productName, setProductName] = useState('');\r\n  const [productDescription, setProductDescription] = useState('');\r\n  const [colorsToSelectFrom, setColorsToSelectFrom] = useState(DEFAULT_COLOR_LIST);\r\n  const [colors, setColors] = useState([]);\r\n  const [length, setLength] = useState('');\r\n  const [weight, setWeight] = useState('');\r\n  const [stoneOrigin, setStoneOrigin] = useState('');\r\n  const [metalType, setMetalType] = useState('');\r\n  const [stoneSize, setStoneSize] = useState('');\r\n  const [production, setProduction] = useState('');\r\n  const [price, setPrice] = useState('');\r\n  const [salePrice, setSalePrice] = useState('');\r\n  const [discount, setDiscount] = useState(0);\r\n  const [articleNumber, setArticleNumber] = useState('');\r\n  const [inStock, setInStock] = useState(1);\r\n  const [status, setStatus] = useState(0);\r\n\r\n\r\n  const [categoriesSelected, setCategoriesSelected] = useState([]);\r\n\r\n  const [stonesSearchResults, setStonesSearchResults] = useState([]);\r\n  const [isStonesSearchResultsShowing, setIsStonesSearchResultsShowing] = useState(false);\r\n  const [stonesSelected, setStonesSelected] = useState([]);\r\n  const [stonesInputValue, setStonesInputValue] = useState('');\r\n\r\n  const [sizesSearchResults, setSizesSearchResults] = useState([]);\r\n  const [isSizesSearchResultsShowing, setIsSizesSearchResultsShowing] = useState(false);\r\n  const [sizesSelected, setSizesSelected] = useState([]);\r\n  const [sizeInputValue, setSizeInputValue] = useState('');\r\n\r\n  const [features, setFeatures] = useState({\r\n    unique: 0,\r\n    masterpiece: 0,\r\n    iridescent: 0,\r\n    minimalism: 0,\r\n    star: 0,\r\n  });\r\n\r\n  function handleFeatureChange(featureSlug) {\r\n    let newValue = features[featureSlug] == 1 ? 0 : 1;\r\n    setFeatures({\r\n      ...features,\r\n      [featureSlug]: newValue\r\n    })\r\n  }\r\n\r\n  const [upsellsSearchResults, setUpsellsSearchResults] = useState([]);\r\n  const [isUpsellsSearchResultsShowing, setIsUpsellsSearchResultsShowing] = useState(false);\r\n  const [upsellsSelected, setUpsellsSelected] = useState([]);\r\n\r\n  // console.log(stoneTags);\r\n  // console.log(attachedFiles)\r\n  // console.log(terms)\r\n\r\n  useEffect(() => {\r\n    if (productId > 0) {\r\n      setEditing(true);\r\n      productsApi.getProduct(productId)\r\n        .then((data) => {\r\n          const product = data[0];\r\n          if (copy) product.productId = '';\r\n          setEditing(product);\r\n          setProductName(product.title);\r\n          setProductDescription(product.text ?? '')\r\n          setPrice(product.price)\r\n          setDiscount(product.discount ?? 0)\r\n          setSalePrice(product.salePrice ?? '')\r\n          // REMOVE EVERYTHING BUT THE DOTS BETWEEN DIGITS -- SOMETHING LIKE THIS /(^\\D+|\\D+$)|[^.\\d]+|(\\.\\.+)/g, ''\r\n          setLength(product.length ?? '')\r\n          setWeight(product.weight ?? '')\r\n          setStoneOrigin(product.stoneOrigin)\r\n          setProduction(product.origin)\r\n          setStoneSize(product.stoneSize)\r\n          setMetalType(product.metalType)\r\n          setFeatures({ ...features, ['iridescent']: product.iridescent, ['unique']: product.unique, ['masterpiece']: product.masterpiece, ['minimalism']: product.minimalism, ['star']: product.star })\r\n          setArticleNumber(product.SKU ?? '')\r\n          setStatus(product.published)\r\n          setInStock(product.inStock)\r\n          if (!copy) setButtonColor(product.color)\r\n          setCategoriesSelected(product.categories.map(category => parseInt(category.termId)))\r\n          setStonesSelected(product.tags)\r\n          product.pictures.forEach(picture => picture.colors = JSON.parse(picture.colors));\r\n          if (!copy) setImages(product.pictures);\r\n          if (!copy) setVideos(product.videos);\r\n\r\n          DEFAULT_COLOR_LIST.forEach(defaultColor => { // hopefully a temporary hack\r\n            const color = product.colors.find(c => c.termId == defaultColor.termId);\r\n            if (color) {\r\n              color.extra = defaultColor.extra;\r\n            }\r\n          });\r\n          setColors(product.colors ?? []);\r\n          setSizesSelected(product.ringSizes ?? []);\r\n\r\n          productsApi.getProductsById([product.upsells])\r\n            .then((res) => {\r\n              setUpsellsSelected(res)\r\n            })\r\n        })\r\n    }\r\n  }, [productId]);\r\n\r\n\r\n  const handleFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const productData = {\r\n      title: productName,\r\n      text: productDescription,\r\n      price: parseInt(price),\r\n      discount: parseInt(discount),\r\n      salePrice: salePrice,\r\n      length: length,\r\n      weight: weight,\r\n      stoneOrigin: stoneOrigin,\r\n      origin: production,\r\n      stoneSize: stoneSize,\r\n      metalType: metalType,\r\n      iridescent: features.iridescent,\r\n      unique: features.unique,\r\n      masterpiece: features.masterpiece,\r\n      minimalism: features.minimalism,\r\n      star: features.star,\r\n      SKU: articleNumber,\r\n      published: status,\r\n      inStock: inStock,\r\n      color: buttonColor,\r\n      categories: categoriesSelected,\r\n      tags: [],\r\n      images: images,\r\n      videos: videos,\r\n      colors: [],\r\n      ringSizes: []\r\n    };\r\n\r\n    // if (categoriesSelected.includes()) // sizes split\r\n\r\n    stonesSelected.forEach(stone => {\r\n      productData.tags.push(stone.termId);\r\n    });\r\n\r\n    colors.forEach(color => {\r\n      productData.colors.push(color.termId);\r\n    });\r\n\r\n    sizesSelected.forEach(ringSize => {\r\n      productData.ringSizes.push(ringSize.termId);\r\n    });\r\n\r\n    const upsellProductIds = [];\r\n    upsellsSelected.forEach(upsell => {\r\n      upsellProductIds.push(upsell.productId);\r\n    });\r\n\r\n    productData.upsells =  upsellProductIds.join(',');\r\n\r\n    console.log(productData);\r\n\r\n    setSavingInProgress(true)\r\n\r\n    if (editing.productId) {\r\n      productData.slug = editing.slug;\r\n      productData.productId = editing.productId;\r\n      const response = await adminApi.editProduct(productData);\r\n      console.log(response);\r\n      setSavingInProgress(false);\r\n    } else {\r\n      const response = await adminApi.addProduct(productData);\r\n      console.log(response);\r\n      setSavingInProgress(false);\r\n      navigate('/administration/product/' + response.productId);\r\n    }\r\n\r\n\r\n  };\r\n\r\n\r\n  // CATEGORIES\r\n\r\n  function handleCategoryChange(e) {\r\n    console.log(categoriesSelected)\r\n    const termId = parseInt(e.target.value);\r\n    if (!categoriesSelected.includes(termId)) {\r\n      setCategoriesSelected([...categoriesSelected, termId]);\r\n    } else {\r\n      setCategoriesSelected(categoriesSelected.filter(catId => catId !== termId));\r\n    }\r\n  }\r\n\r\n\r\n  // STONES\r\n\r\n  function handleStonesInput(input) {\r\n    const inputValue = input.target.value;\r\n    setStonesInputValue(inputValue);\r\n    if (inputValue.length > 0) {\r\n      const filteredStones = terms.tags.filter(tag => tag.name.toLowerCase().includes(inputValue.toLowerCase()));\r\n      setStonesSearchResults(filteredStones.slice(0, 24));\r\n      setIsStonesSearchResultsShowing(true);\r\n    } else {\r\n      setStonesSearchResults([]);\r\n      setIsStonesSearchResultsShowing(false);\r\n    }\r\n  }\r\n\r\n  function handleStoneSelect(stone) {\r\n    setStonesSelected(prevStones => [...prevStones, stone]);\r\n    setIsStonesSearchResultsShowing(false);\r\n    document.getElementById('stonesInput').value = '';\r\n  }\r\n\r\n  function handleStoneRemoval(termId) {\r\n    setStonesSelected(prevStones => prevStones.filter(stone => stone.termId !== termId));\r\n  }\r\n\r\n  function closeStoneSearchResults() {\r\n    setIsStonesSearchResultsShowing(false);\r\n    document.getElementById('stonesInput').value = '';\r\n  }\r\n\r\n\r\n\r\n  // SIZES\r\n\r\n  function handleSizesInput(input) {\r\n    const inputValue = input.target.value;\r\n    setSizeInputValue(inputValue);\r\n    if (inputValue.length > 0) {\r\n      const filteredSizes = terms.ringSizes.filter(ringSize => ringSize.name.replace(',', '.').includes(inputValue.replace(',', '.')));\r\n      setSizesSearchResults(filteredSizes);\r\n      setIsSizesSearchResultsShowing(true);\r\n    } else {\r\n      setSizesSearchResults([]);\r\n      setIsSizesSearchResultsShowing(false);\r\n    }\r\n  }\r\n\r\n  function handleSizeSelect(size) {\r\n    setSizesSelected(prevSizes => [...prevSizes, size]);\r\n    setIsSizesSearchResultsShowing(false);\r\n    document.getElementById('sizesInput').value = '';\r\n  }\r\n\r\n  function handleSizeRemoval(termId) {\r\n    setSizesSelected(prevSizes => prevSizes.filter(size => size.termId !== termId));\r\n  }\r\n\r\n  function closeSizeSearchResults() {\r\n    setIsSizesSearchResultsShowing(false);\r\n    document.getElementById('sizesInput').value = '';\r\n  }\r\n\r\n\r\n\r\n\r\n  function handleColorSelect(color) {\r\n    if (!colors.includes(color)) {\r\n      setColors(prevColors => [...prevColors, color]);\r\n    } else {\r\n      setColors(prevColors => prevColors.filter(item => item.name !== color.name));\r\n    }\r\n  }\r\n\r\n  function handleColorUnSelect(color) {\r\n    setColors(prevColors => prevColors.filter(item => item.name !== color.name));\r\n  }\r\n\r\n  const colorsToSelect = colorsToSelectFrom.map((object) => {\r\n    const color = object.extra;\r\n    const slug = object.slug;\r\n    const isSpecialColor = slug === 'black' || slug === 'burgundy' || slug === 'brown';\r\n    let labelClass = `cat-checkbox__label ${isSpecialColor ? 'white-font' : ''}`;\r\n\r\n    if (colors.some(c => c.termId == object.termId)) labelClass += ' opacity-low';\r\n\r\n    return (\r\n      <div\r\n        key={slug}\r\n        className={labelClass + ' color-button unselectable'}\r\n        style={{background: color}}\r\n        data-color={slug}\r\n        onClick={() => handleColorSelect(object)}\r\n      >\r\n        {object.name}\r\n      </div>\r\n    )\r\n  });\r\n\r\n  const colorsSelected = colors.map((object) => {\r\n    const color = object.extra;\r\n    const slug = object.slug;\r\n    const isSpecialColor = slug === 'black' || slug === 'burgundy' || slug === 'brown';\r\n    const labelClass = `cat-checkbox__label ${isSpecialColor ? ' white-font' : ''}`;\r\n    return (\r\n      <div\r\n        key={slug}\r\n        className={labelClass + ' color-button unselectable'}\r\n        style={{background: color}}\r\n        data-color={slug}\r\n        onClick={() => handleColorUnSelect(object)}\r\n      >\r\n        {object.name}\r\n      </div>\r\n    )\r\n  });\r\n\r\n\r\n\r\n\r\n\r\n  // useEffect(() => {\r\n  //   if (price > 0 && discount > 0) {\r\n  //     setSalePrice(Math.floor((price - (price / 100 * discount)) / 10) * 10);\r\n  //   } else {\r\n  //     setSalePrice('');\r\n  //   }\r\n  // }, [colors]);\r\n\r\n\r\n  // UPSELLS\r\n\r\n  async function handleUpsellsInput(input) {\r\n    const inputValue = input.target.value;\r\n    if (inputValue.length > 0) {\r\n      const searchResults = await adminApi.productSearch(input.target.value);\r\n      setUpsellsSearchResults(searchResults.slice(0, 10));\r\n      setIsUpsellsSearchResultsShowing(true);\r\n    } else {\r\n      setUpsellsSearchResults([]);\r\n      setIsUpsellsSearchResultsShowing(false);\r\n    }\r\n  }\r\n\r\n  function handleUpsellSelect(product) {\r\n    setUpsellsSelected(prevUpsells => [...prevUpsells, product]);\r\n  }\r\n\r\n  function handleUpsellRemoval(productId) {\r\n    setUpsellsSelected(prevUpsells => prevUpsells.filter(product => product.productId !== productId));\r\n  }\r\n\r\n  function closeUpsellsSearchResults() {\r\n    setIsUpsellsSearchResultsShowing(false);\r\n    document.getElementById('upsellsInput').value = '';\r\n  }\r\n\r\n\r\n  // discount\r\n  useEffect(() => {\r\n    if (price > 0 && discount > 0) {\r\n      setSalePrice(Math.floor((price - (price / 100 * discount)) / 10) * 10);\r\n    } else {\r\n      setSalePrice('');\r\n    }\r\n  }, [discount, price]);\r\n\r\n\r\n  // useEffect(() => {\r\n  //   const handleBeforeUnload = (event) => {\r\n  //     event.preventDefault();\r\n  //     event.returnValue = ''; // Modern browsers ignore this, but it's needed for some older ones\r\n  //   };\r\n\r\n  //   window.addEventListener('beforeunload', handleBeforeUnload);\r\n\r\n  //   return () => {\r\n  //     window.removeEventListener('beforeunload', handleBeforeUnload);\r\n  //   };\r\n  // }, []);\r\n\r\n  function addterm(type, name) {\r\n    adminApi.addterm(type, name)\r\n    .then(response => {\r\n      if (type === 'tag') handleStoneSelect(response.insertedTerm);\r\n      if (type === 'pa_razmer') handleSizeSelect(response.insertedTerm);\r\n    })\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n    {(editing && !copy && !editing.productId) && <div className='admin_page_is_loading'><img src={loadingIcon} /></div> }\r\n    {(copy && !editing.title) && <div className='admin_page_is_loading'><img src={loadingIcon} /></div> }\r\n    <div className='admin_page'>\r\n      <AdminHeader\r\n      />\r\n      <h2>{editing.productId ? 'Редактирование товара' : 'Добавление товара'}</h2>\r\n      <main className='product-constructor'>\r\n        <form className='add-form' onSubmit={handleFormSubmit}>\r\n          {/* <h2>Добавление и редактирование товара</h2> */}\r\n          <div className='form-container'>\r\n\r\n\r\n            <div className=\"left-block\">\r\n              <div className=\"block\">\r\n                <input className='input_size_long input-title' type=\"text\" id=\"productName\" value={productName} placeholder='Название товара' onChange={(e) => setProductName(e.target.value)} />\r\n                <textarea className='input_size_long input_size_big' id=\"productDescription\" value={productDescription} placeholder='Описание товара' onChange={(e) => setProductDescription(e.target.value)} />\r\n              </div>\r\n\r\n              {/* для фоток и видео */}\r\n\r\n              <FileUploader\r\n                images={images}\r\n                setImages={setImages}\r\n                videos={videos}\r\n                setVideos={setVideos}\r\n                buttonColor={buttonColor}\r\n                setButtonColor={setButtonColor}\r\n              />\r\n\r\n              {/* ЧЕКБОКСЫ КАТЕГОРИЙ  */}\r\n              <div className=\"block\">\r\n                <h3>Категория товара</h3>\r\n                <div className='cats-div'>\r\n                  {HARDCODED_CATEGORIES.map((term) => (\r\n                    <label htmlFor={'cat-' + term.slug} className='cat-checkbox__label' key={term.termId}>\r\n                      <input className='cat-checkbox' type='checkbox' name='category' value={term.termId} id={'cat-' + term.slug} onChange={handleCategoryChange} checked={categoriesSelected.includes(term.termId)} />\r\n                      <div className='pseudo-button pointer unselectable'>{term.name}</div>\r\n                    </label>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n\r\n              <div className='stones block'>\r\n                <h3>Камни</h3>\r\n                <input\r\n                  type=\"text\"\r\n                  id='stonesInput'\r\n                  onChange={handleStonesInput}\r\n                  className='input_size_medium stones'\r\n                  placeholder=\"Начни вводить камень\"\r\n                />\r\n\r\n                {isStonesSearchResultsShowing && (\r\n                  <div className='stoneSearchResults'>\r\n                    <div className='stoneSearchResults-top'>\r\n                      <div>Результаты поиска</div>\r\n                      <div\r\n                        onClick={closeStoneSearchResults}\r\n                        className='close_upsells_search_results'\r\n                      >[x] закрыть</div>\r\n                      {/* on click outside closure is needed */}\r\n                    </div>\r\n                    {stonesSearchResults.length == 0 && (<div className='noStoneResults' onClick={() => addterm('tag', stonesInputValue)}>Ничего не найдено<div>Добавить камень: <b>{stonesInputValue}</b></div></div>)}\r\n                    {stonesSearchResults.map((stone) => {\r\n                      if (!stonesSelected.includes(stone)) {\r\n                        return (\r\n                          <div\r\n                            className='stoneSearchResult'\r\n                            key={stone.termId}\r\n                            onClick={() => handleStoneSelect(stone)}\r\n                          >\r\n                            <span>{stone.name}</span>\r\n\r\n                          </div>\r\n                        )\r\n                      }\r\n                    })}\r\n                  </div>\r\n                )}\r\n\r\n                {stonesSelected.length > 0 && (\r\n                  <div className='stonesSelected'>\r\n                    {stonesSelected.map((stone) => (\r\n                      (\r\n                        <div\r\n                          className='stoneSelected'\r\n                          key={stone.termId}\r\n                        >\r\n\r\n                          <span>{stone.name}</span>\r\n\r\n                          <button className='thumbnail-button' onClick={() => handleStoneRemoval(stone.termId)}></button>\r\n\r\n                        </div>\r\n                      )\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n\r\n\r\n\r\n\r\n              <div className='block'>\r\n                <h3>Цвета камней</h3>\r\n                <div className='colors-container'>\r\n\r\n                  {colorsToSelect}\r\n                </div>\r\n                {colors.length > 0 && (\r\n                  <div className='colors-selected'>\r\n                    <h3>Выбранные цвета</h3>\r\n                    {colorsSelected}\r\n                  </div>\r\n                )}\r\n\r\n              </div>\r\n\r\n\r\n\r\n            </div>\r\n\r\n\r\n            <div className=\"right-block\">\r\n              <div className='price_and_status'>\r\n                {/* ИНПУТЫ ПО ЦЕНАМ, НАЛИЧИЮ */}\r\n                <div className='price_and_instock'>\r\n                  {/* <h3>Цена, наличие</h3> */}\r\n\r\n                  <div className='instock block'>\r\n                    <div className='price__item'>\r\n                      <label htmlFor='input-stock' className='instock_text'>Наличие</label>\r\n                      <div className='instock_buttons instock_minus unselectable' onClick={() => inStock > 0 && setInStock(parseInt(inStock) - 1)}>–</div>\r\n                      <input className='instock_input' type=\"number\" id='input-stock' value={inStock} onChange={(e) => setInStock(e.target.value)} />\r\n                      <div className='instock_buttons instock_plus unselectable' onClick={() => setInStock(parseInt(inStock) + 1)}>+</div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className='price_block block'>\r\n                    <label htmlFor='input-price' className={`full_price ${discount == 0 ? 'font-weight-600' : ''}`}>Полная цена</label>\r\n                    <input className={`price_input ${discount > 0 ? 'line-through opacity-medium' : ''}`} type=\"number\" placeholder='' id='input-price' value={price} onChange={(e) => setPrice(e.target.value)} />\r\n                    <div className={`price_ruble_icon ${discount > 0 ? 'opacity-medium' : ''}`}>₽</div>\r\n\r\n                    <label htmlFor='input-sale-price' className={`sale_price ${discount > 0 ? 'font-weight-600' : 'opacity-medium'}`}>Цена по скидке</label>\r\n                    <input className={`sale_price_display ${discount == 0 || price < 1 ? 'opacity-low' : ''}`} type=\"number\" id='input-sale-price' value={salePrice} onChange={(e) => setSalePrice(e.target.value)} disabled /><div className={`sale_price_ruble ${discount == 0 ? 'opacity-low' : ''}`}>₽</div>\r\n\r\n                    <label htmlFor='input-discount' className={`discount_text ${price < 1 ? 'opacity-low' : ''}`}>Скидка</label>\r\n                    <input className='discount_slider' type=\"range\" min=\"0\" max=\"50\" placeholder=\"0\" id='input-discount' value={discount} onChange={(e) => setDiscount(e.target.value)} disabled={price < 1} />\r\n                    <div className={`discount_percentage ${price < 1 ? 'opacity-low' : ''}`}>{discount}%</div>\r\n                  </div>\r\n\r\n                </div>\r\n                <div className='status_and_copy'>\r\n\r\n                  <div className='block'>\r\n                    {/* <h3>Статус товара</h3> */}\r\n                    <div\r\n                      className={`status-button published ${status == 1 ? 'active' : ''}`}\r\n                      onClick={() => setStatus(1)}\r\n                    ><img src={checkSquare} className='status_icon' />\r\n                      Опубликовано\r\n                    </div>\r\n\r\n                    <div className={`status-button draft ${status == 0 ? 'active' : ''}`}\r\n                      onClick={() => setStatus(0)}\r\n                    ><img src={fileDashed} className='status_icon' />\r\n                      Черновик\r\n                    </div>\r\n                    <hr />\r\n                    <div className='view_and_submit'>\r\n                      {editing.productId && <a href={'/product/' + editing.slug + '-' + editing.productId} target='_blank' className='view-product'><img src={eyeIcon} /></a> }\r\n                      <button className='submit-adding' style={{gridColumn: editing.productId ? 'auto' : '1 / -1'}} type=\"submit\">{!savingInProgress && (editing.productId ? 'Сохранить' : 'Создать')}\r\n                      {savingInProgress && <div className='savingInProgress'><img src={loadingIcon} /></div> }</button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className='block' style={{ textAlign: 'center' }}>\r\n                    {/* button should be inactive if the product is not saved yet */}\r\n                    <a href={'/administration/product/' + editing.productId + '/copy'} className='copy_product'><img src={copySimple} className='status_icon' /> Копировать товар</a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* ИНПУТЫ ДЛЯ ХАРАКТЕРИСТИК ДЛЯ ТАБЛИЧКИ В ТОВАРЕ */}\r\n              <div className='chars__container block'>\r\n                <h3>Характеристики</h3>\r\n\r\n                <div className='chars__item'>\r\n                  <label htmlFor='input-sku' className=''>Артикул</label>\r\n                  <input className='chars_input' id='input-sku' type=\"number\" placeholder=\"12345\" value={articleNumber || ''} onChange={(e) => setArticleNumber(e.target.value)} />\r\n                </div>\r\n\r\n                <div className='chars__item'>\r\n                  <label htmlFor='input-length' className=''>Длина в см:</label>\r\n                  <input className='chars_input' id='input-length' type=\"number\" placeholder=\"22,5\" value={length || ''} onChange={(e) => setLength(e.target.value)} />\r\n                </div>\r\n\r\n                <div className='chars__item'>\r\n                  <label htmlFor='input-weight' className=''>Вес в граммах:</label>\r\n                  <input className='chars_input' id='input-weight' type=\"number\" placeholder=\"25\" value={weight || ''} onChange={(e) => setWeight(e.target.value)} />\r\n                </div>\r\n\r\n                <div className='chars__item'>\r\n                  <label htmlFor='input-origin' className=''>Происхождение камня:</label>\r\n                  <input className='chars_input' id='input-origin' type=\"text\" placeholder=\"Якутия\" value={stoneOrigin || ''} onChange={(e) => setStoneOrigin(e.target.value)} />\r\n                </div>\r\n\r\n                <div className='chars__item'>\r\n                  <label htmlFor='input-metal' className=''>Металл:</label>\r\n                  <input className='chars_input' id='input-metal' type=\"text\" placeholder=\"Мельхиор\" value={metalType || ''} onChange={(e) => setMetalType(e.target.value)} />\r\n                </div>\r\n\r\n                <div className='chars__item'>\r\n                  <label htmlFor='input-stonesize' className=''>Размер камня в см</label>\r\n                  <input className='chars_input' id='input-stonesize' type=\"text\" placeholder=\"1,2 х 0,3\" value={stoneSize || ''} onChange={(e) => setStoneSize(e.target.value)} />\r\n                </div>\r\n\r\n                <div className='chars__item'>\r\n                  <label htmlFor='input-production' className=''>Производство:</label>\r\n                  <input className='chars_input' id='input-production' type=\"text\" placeholder=\"Россия, Екатеринбург\" value={production || ''} onChange={(e) => setProduction(e.target.value)} />\r\n                </div>\r\n\r\n              </div>\r\n\r\n              <div className='block'>\r\n                <h3>Размеры</h3>\r\n                <input\r\n                  type=\"number\"\r\n                  id='sizesInput'\r\n                  onChange={handleSizesInput}\r\n                  className='input_size_medium sizes'\r\n                  placeholder=\"Начни вводить размер\"\r\n                />\r\n\r\n\r\n                {isSizesSearchResultsShowing && (\r\n                  <div className='sizeSearchResults'>\r\n                    <div className='sizeSearchResults-top'>\r\n                      <div>Результаты поиска</div>\r\n                      <div\r\n                        onClick={closeSizeSearchResults}\r\n                        className='close_upsells_search_results'\r\n                      >[x] закрыть</div>\r\n                      {/* on click outside closure is needed */}\r\n                    </div>\r\n                    {sizesSearchResults.length == 0 && (<div className='noSizeResults' onClick={() => addterm('pa_razmer', sizeInputValue)}>Ничего не найдено<div>Добавить размер: <b>{sizeInputValue}</b></div></div>)}\r\n                    {sizesSearchResults.map((size) => {\r\n                      if (!sizesSelected.includes(size)) {\r\n                        return (\r\n                          <div\r\n                            className='sizeSearchResult'\r\n                            key={size.termId}\r\n                            onClick={() => handleSizeSelect(size)}\r\n                          >\r\n                            <span>{size.name}</span>\r\n\r\n                          </div>\r\n                        )\r\n                      }\r\n                    })}\r\n                  </div>\r\n                )}\r\n\r\n                {sizesSelected.length > 0 && (\r\n                  <div className='sizesSelected'>\r\n                    {sizesSelected.map((size) => (\r\n                      (\r\n                        <div\r\n                          className='sizeSelected'\r\n                          key={size.termId}\r\n                        >\r\n\r\n                          <span>{size.name}</span>\r\n\r\n                          <button className='thumbnail-button' onClick={() => handleSizeRemoval(size.termId)}></button>\r\n\r\n                        </div>\r\n                      )\r\n                    ))}\r\n                  </div>\r\n                )}\r\n\r\n\r\n              </div>\r\n\r\n\r\n\r\n              <div className='block'>\r\n\r\n                <h3>Дополнительные метки</h3>\r\n\r\n                <div className='features'>\r\n                  {FEATURES_LIST.map((feature) => (\r\n                    <label htmlFor={'checkbox-' + feature.slug} key={feature.slug}>\r\n                      <input className='cat-checkbox' type=\"checkbox\" checked={features[feature.slug] == 1} id={'checkbox-' + feature.slug} name=\"special-tags\" value={feature.slug} onChange={() => handleFeatureChange(feature.slug)}></input>\r\n                      <div className='features-pseudo-button pointer unselectable'>{feature.name}</div>\r\n                    </label>\r\n                  ))}\r\n\r\n                  {/* <input className='checkbox_type_normal' type=\"checkbox\" id='checkbox-unique' name=\"special-tags\" checked={isUnique === '1'} onChange={() => setIsUnique(isUnique === '1' ? '0' : '1')}></input> */}\r\n                </div>\r\n              </div>\r\n\r\n              <div className='upsells block'>\r\n                <h3>Сопутствующие товары</h3>\r\n                <input\r\n                  type=\"text\"\r\n                  id='upsellsInput'\r\n                  onChange={handleUpsellsInput}\r\n                  className='input_size_medium upsell'\r\n                  placeholder=\"Начни вводить название\"\r\n                />\r\n                {isUpsellsSearchResultsShowing && (\r\n                  <div className='upsellSearchResults'>\r\n                    <div className='upsellSearchResults-top'>\r\n                      <div>Результаты поиска</div>\r\n                      <div\r\n                        onClick={closeUpsellsSearchResults}\r\n                        className='close_upsells_search_results'\r\n                      >[x] закрыть</div>\r\n                      {/* on click outside closure is needed */}\r\n                    </div>\r\n                    {upsellsSearchResults.length == 0 && (<div className='noUpsellResults'>Ничего не найдено</div>)}\r\n                    {upsellsSearchResults.map((product) => {\r\n                      if (!upsellsSelected.includes(product)) {\r\n                        return (\r\n                          <div\r\n                            className='upsellSearchResult'\r\n                            key={product.productId}\r\n                            onClick={() => handleUpsellSelect(product)}\r\n                          >\r\n                            <img src={\"https://dolina.shop/photos/\" + product.pictures[0].path.slice(0, -4) + `_preview.jpg`} alt={product.title} />\r\n                            <span>{product.title}</span>\r\n                          </div>\r\n                        )\r\n                      }\r\n                    })}\r\n                  </div>\r\n                )}\r\n\r\n                {upsellsSelected.length > 0 && (\r\n                  <div className='upsellsSelected'>\r\n                    {upsellsSelected.map((product) => (\r\n                      (\r\n                        <div\r\n                          className='upsellSelected'\r\n                          key={product.productId}\r\n                        >\r\n\r\n                          <a href={\"http://localhost:3000/product/\" + product.slug + '-' + product.productId} target='_blank'>\r\n                            <img src={\"https://dolina.shop/photos/\" + product.pictures[0].path.slice(0, -4) + `_preview.jpg`} alt={product.title} />\r\n                            <span>{product.title}</span>\r\n                          </a>\r\n\r\n                          <button className='thumbnail-button' onClick={() => handleUpsellRemoval(product.productId)}></button>\r\n\r\n                        </div>\r\n                      )\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n\r\n          </div>\r\n\r\n\r\n        </form>\r\n      </main>\r\n      </div>\r\n    </>);\r\n};\r\n\r\nexport default ProductConstructor;\r\n\r\n\r\n\r\n\r\n// Нужно написать jsx компонент добавления товара на сайт, сверстать такую структуру:\r\n\r\n// блок 1 слева +\r\n// - название\r\n// - редактор текста\r\n// - прикрепить или перетащить фото и видео\r\n\r\n// блок 1 справа\r\n// - радио баттон статус товара: черновик или опубликовано\r\n// - дата публикации\r\n// - кнопка сабмита всей формы\r\n// - посмотреть товар, ссылка на созданный товар открывается в новом окне\r\n\r\n// блок 2 слева +\r\n// - чекбоксы выбора категорий: Кольца, Бусы, Серьги, Подвески, Комплекты, Браслеты, Колье, Броши\r\n// - окно поиска по тегам по камням, где можно найти и выбрать несколько\r\n// - инпут длина изделия (число)\r\n// - инпут вес (число)\r\n// - инпут происхождение камня (текст)\r\n// - инпут металл (текст)\r\n// - инпут производство (текст)\r\n// - инпуты размер камня, шаблон с двумя окошками типа длина ширина\r\n\r\n// блок 2 справа\r\n// - Окно поиска по другим товарам для upsells, где можно находить и выбирать несколько\r\n\r\n// блок 3 слева\r\n// - инпут цена (число)\r\n// - инпут цена по распродаже (число)\r\n// - шкала с бегунком размер скидки в процентах;\r\n// - инпут артикул\r\n// - размеры (колец чекбоксы, браслета чекбоксы)\r\n// - инпут в наличии количество (число)\r\n\r\n// блок 3 справа:\r\n// - чекбокс выбора цвета кнопки товара, 3 варианта\r\n// - цвет камня чекбоксы\r\n// - чекбоксы дополнительных свойств: с переливом, минимализм, в единственном экземпляре\r\n// - чекбокс это избранный товар\r\n\r\n// - дублирующая кнопка сабмита всей формы"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}