{"ast":null,"code":"class ProductsApi{constructor(options){this._url=options.url;this._headers=options.headers;}_getResponseData(res){if(!res.ok){return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}return res.json();}getAllProducts(){return fetch(this._url+'/products/all',{method:'GET',headers:this._headers}).then(this._getResponseData);}getProduct(id){return fetch(this._url+\"/products/by_id?productId=\".concat(id),{method:'GET',headers:this._headers}).then(this._getResponseData);}getProductsById(products){let savedPoducts=products.join(',');return fetch(this._url+\"/products/by_id?productId=\".concat(savedPoducts),{method:'GET',headers:this._headers}).then(this._getResponseData);}getTerms(){return fetch(this._url+'/products/terms',{method:'GET',headers:this._headers}).then(this._getResponseData);}getStones(){return fetch(this._url+'/stones',{method:'GET',headers:this._headers}).then(this._getResponseData);}getReviews(){return fetch(this._url+'/testimonials',{method:'GET',headers:this._headers}).then(this._getResponseData);}filterProducts(){let category=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';let tags=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';let search=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';let offset=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'';let pageSize=arguments.length>4&&arguments[4]!==undefined?arguments[4]:'';let sortBy=arguments.length>5&&arguments[5]!==undefined?arguments[5]:'';let seed=arguments.length>6&&arguments[6]!==undefined?arguments[6]:1;let colors=arguments.length>7&&arguments[7]!==undefined?arguments[7]:'';let masterpiece=arguments.length>8&&arguments[8]!==undefined?arguments[8]:'';let iridescent=arguments.length>9&&arguments[9]!==undefined?arguments[9]:'';let sortByClean=sortBy.includes('-')?sortBy.split('-')[0]:sortBy;let sortOrder='asc';if(sortBy.includes('-desc'))sortOrder='desc';// console.log(`/products/filter?category=${category}&tags=${tags}&search=${search}&offset=${offset}&pageSize=${pageSize}&sortBy=${sortByClean}&sortOrder=${sortOrder}&seed=${seed}&colors=${colors}&masterpiece=${masterpiece}&iridescent=${iridescent}`);\nreturn fetch(this._url+\"/products/filter?category=\".concat(category,\"&tags=\").concat(tags,\"&search=\").concat(search,\"&offset=\").concat(offset,\"&pageSize=\").concat(pageSize,\"&sortBy=\").concat(sortByClean,\"&sortOrder=\").concat(sortOrder,\"&seed=\").concat(seed,\"&colors=\").concat(colors,\"&masterpiece=\").concat(masterpiece,\"&iridescent=\").concat(iridescent),{method:'GET',headers:this._headers}).then(this._getResponseData);}productsByType(type){let offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let pageSize=arguments.length>2&&arguments[2]!==undefined?arguments[2]:240;let sortBy=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'default';let seed=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1;let sortByClean=sortBy.includes('-')?sortBy.split('-')[0]:sortBy;let sortOrder='asc';if(sortBy.includes('-desc'))sortOrder='desc';return fetch(this._url+\"/products/by_type?type=\".concat(type,\"&offset=\").concat(offset,\"&pageSize=\").concat(pageSize,\"&sortBy=\").concat(sortByClean,\"&sortOrder=\").concat(sortOrder,\"&seed=\").concat(seed),{method:'GET',headers:this._headers}).then(this._getResponseData);}getCdekCities(city){return fetch(this._url+\"/cdek/city?city=\".concat(city),{method:'GET',headers:this._headers}).then(this._getResponseData);}getCdekTariff(city){return fetch(this._url+\"/cdek/tarifflist?codeTo=\".concat(city),{method:'GET',headers:this._headers}).then(this._getResponseData);}getDeliveryPoints(city){return fetch(this._url+\"/cdek/deliveryPoints?city_code=\".concat(city),{method:'GET',headers:this._headers}).then(this._getResponseData);}postReview(title,text,author,image){const formData=new FormData();formData.append('title',title);formData.append('content',text);formData.append('author',author);formData.append('image',image);return fetch('https://dolina.shop/forms/testimonials.php',{method:'POST',// headers: this._headers,\nbody:formData}).then(this._getResponseData);}}const productsApi=new ProductsApi({url:process.env.REACT_APP_BACKEND_URL,headers:{'Content-Type':'application/json'}});export default productsApi;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}