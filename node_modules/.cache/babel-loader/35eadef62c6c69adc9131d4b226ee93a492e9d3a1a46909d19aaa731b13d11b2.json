{"ast":null,"code":"import'./Catalog.css';import Card from'../Card/Card';import{useParams}from'react-router-dom';// import {useState, useEffect, useContext } from 'react';\n// import { CurrentUserContext } from '../../contexts/CurrentUserContext'; \nimport productsApi from'../../utils/Api';// import Product from '../Product/Product';\nimport{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Catalog(_ref){let{onCardClick,products,setProducts,onLikeClick,savedProducts,search,setSearch,fetchProducts,productFilters,setProductFilters=false,isLoadingMore,showLoadMore=false,catalogLoading=false,onCatClick}=_ref;// console.log(products[0])\n// const [offset, setOffset] = useState(24);\n// const pageSize = 24;\n// const fetchProducts = async () => {\n//     setLoading(true);\n//     try {\n//         const data = await productsApi.filterProducts('', '', '', offset, pageSize);\n//         setProducts(prevProducts => [...prevProducts, ...data]);\n//         setOffset(prevOffset => prevOffset + pageSize);\n//     } catch (error) {\n//         console.error('Error fetching products', error);\n//     }\n//     setLoading(false);\n// };\nfunction resetFilters(){onCatClick('');}return/*#__PURE__*/_jsxs(\"section\",{className:\"catalog \".concat(catalogLoading?'loading':''),children:[products.length==0&&productFilters&&productFilters.search.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),\"\\u041D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"]}),products.length==0&&productFilters&&(productFilters.colors.length>0||productFilters.masterpiece||productFilters.iridescent)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),\"\\u041F\\u043E \\u0432\\u0430\\u0448\\u0438\\u043C \\u043F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\u0430\\u043C \\u043D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0448\\u043B\\u043E\\u0441\\u044C. \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \",/*#__PURE__*/_jsx(\"span\",{className:\"filters_reset hover_type_normal pointer\",onClick:()=>resetFilters(''),children:\"\\u0441\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C \\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B\"}),\".\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"catalog-list\",children:products.map(product=>/*#__PURE__*/_jsx(Card// product={product}\n,{id:product.productId,slug:product.slug,name:product.title// mainPicture={product.pictures[0]}\n,price:product.price,onCardClick:onCardClick,onLikeClick:onLikeClick,pictures:product.pictures,savedProducts:savedProducts,inStock:product.inStock,search:search,setSearch:setSearch,createdAt:product.createdAt,discount:product.discount,salePrice:product.salePrice// isLoggedIn={isLoggedIn}\n},product.productId))}),showLoadMore&&/*#__PURE__*/_jsx(\"div\",{className:\"load-more_button-conainer\",children:/*#__PURE__*/_jsx(\"button\",{className:'load-more_button'+(isLoadingMore?' loading':''),onClick:()=>setProductFilters(prevFilters=>({...prevFilters,offset:productFilters.offset+productFilters.pageSize})),disabled:isLoadingMore,children:isLoadingMore?'загружаем...':'загрузить ещё'})})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}