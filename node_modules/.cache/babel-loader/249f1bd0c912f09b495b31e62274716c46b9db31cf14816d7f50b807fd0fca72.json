{"ast":null,"code":"import React,{useEffect}from'react';import usersApi from'../../utils/UsersApi';import{jsx as _jsx}from\"react/jsx-runtime\";const YandexOath=setIsLoggedIn=>{useEffect(()=>{const hash=window.location.hash;if(hash){const params=new URLSearchParams(hash.substring(1));// Remove the '#' and parse\nconst accessToken=params.get('access_token');if(accessToken){fetch('https://login.yandex.ru/info?format=json',{method:'GET',headers:{'Authorization':\"OAuth \".concat(accessToken),'Content-Type':'application/json'}}).then(response=>{if(!response.ok){throw new Error(\"Error: \".concat(response.status,\" \").concat(response.statusText));}return response.json();}).then(data=>{usersApi.yandexOauth(data.real_name,data.default_email,data.default_phone.number,accessToken,data.id).then(response=>{setTimeout(()=>{window.close();},100);});}).catch(error=>{console.error('Error:',error);});}}},[]);return/*#__PURE__*/_jsx(\"div\",{style:{height:'500px'},children:/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041F\\u043E\\u0434\\u043E\\u0436\\u0434\\u0438\\u0442\\u0435, \\u043F\\u0440\\u043E\\u0438\\u0441\\u0445\\u043E\\u0434\\u0438\\u0442 \\u0430\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F...\"})});};export default YandexOath;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}