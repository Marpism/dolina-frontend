{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Maria\\\\Desktop\\\\Coding\\\\01dolina\\\\dolina_frontend\\\\src\\\\components\\\\Profile\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport './Profile.css';\nimport Header from '../Header/Header';\nimport MobileNavBar from \"../MobileNavBar/MobileNavBar\";\nimport productsApi from '../../utils/Api';\nimport { useNavigate, NavLink } from 'react-router-dom';\nimport { useMediaQuery } from 'react-responsive';\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Profile({\n  currentUser,\n  savedProducts,\n  cart\n}) {\n  _s();\n  // const isBigScreen = useMediaQuery({ minWidth: 768 }); // надо бы перенести в константы\n  // const isSmallScreen = useMediaQuery({ maxWidth: 767 });\n\n  const [cartProducts, setCartProducts] = useState([]);\n  const [wishlist, setWishlist] = useState([]);\n  // const previewPic = `https://dolina.shop/photos/${pictures[0].path.slice(0, -4) + `_preview.jpg`}`;\n\n  useEffect(() => {\n    const productIds = Object.keys(cart);\n    productsApi.getProductsById([productIds]).then(res => {\n      setCartProducts(res);\n      // console.log(res)\n    }).catch(err => console.log(err));\n  }, [cart]);\n  useEffect(() => {\n    productsApi.getProductsById([savedProducts]).then(res => {\n      setWishlist(res);\n      console.log(res);\n    }).catch(err => console.log(err));\n  }, [savedProducts]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"wishlist-header\",\n        children: \"\\u041B\\u0438\\u0447\\u043D\\u044B\\u0439 \\u043A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"user-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info__avatar\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"user-info__avatar-caption\",\n            children: \"M\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info__container\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"user-info__name\",\n            children: currentUser.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"user-info__email\",\n            children: currentUser.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/\",\n          className: \"navlink_size_s \",\n          children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex_type_row\",\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"profile__orders\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"profile__subheader\",\n            children: \"\\u0417\\u0430\\u043A\\u0430\\u0437\\u044B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"profile__wishlist\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"profile__subheader\",\n            children: \"\\u0418\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"profile__wishlist_ul\",\n            children: wishlist.map(product => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"profile__wishlist_li\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"\",\n                src: `https://dolina.shop/photos/${product.pictures[0].path.slice(0, -4) + `_preview.jpg`}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 15\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(MobileNavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n// Что должно быть: \n// - имя, почта, телефон \n// - выйти из профиля\n// - избранное \n// - заказы \n// - ожидаемые доставки? \n// - недавно просмотренные\n_s(Profile, \"P9G1i8WDpkokGM5wCasIGZOZ95Q=\");\n_c = Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["Header","MobileNavBar","productsApi","useNavigate","NavLink","useMediaQuery","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","Profile","currentUser","savedProducts","cart","_s","cartProducts","setCartProducts","wishlist","setWishlist","productIds","Object","keys","getProductsById","then","res","catch","err","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","className","name","email","to","map","product","src","pictures","path","slice","_c","$RefreshReg$"],"sources":["C:/Users/Maria/Desktop/Coding/01dolina/dolina_frontend/src/components/Profile/Profile.js"],"sourcesContent":["import './Profile.css';\r\nimport Header from '../Header/Header';\r\nimport MobileNavBar from \"../MobileNavBar/MobileNavBar\";\r\nimport productsApi from '../../utils/Api';\r\nimport { useNavigate, NavLink } from 'react-router-dom';\r\nimport { useMediaQuery } from 'react-responsive';\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport default function Profile({ currentUser, savedProducts, cart }) {\r\n  // const isBigScreen = useMediaQuery({ minWidth: 768 }); // надо бы перенести в константы\r\n  // const isSmallScreen = useMediaQuery({ maxWidth: 767 });\r\n\r\n  const [cartProducts, setCartProducts] = useState([]);\r\n  const [wishlist, setWishlist] = useState([]);\r\n  // const previewPic = `https://dolina.shop/photos/${pictures[0].path.slice(0, -4) + `_preview.jpg`}`;\r\n\r\n  useEffect(() => {\r\n    const productIds = Object.keys(cart);\r\n    productsApi.getProductsById([productIds])\r\n      .then((res) => {\r\n        setCartProducts(res)\r\n        // console.log(res)\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }, [cart])\r\n\r\n  useEffect(() => {\r\n    productsApi.getProductsById([savedProducts])\r\n      .then((res) => {\r\n        setWishlist(res)\r\n        console.log(res)\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }, [savedProducts])\r\n\r\n  return (\r\n    <>\r\n    <Header/>\r\n\r\n    <main className='profile'>\r\n      <h1 className='wishlist-header'>Личный кабинет</h1>\r\n      <section className='user-info'>\r\n        <div className='user-info__avatar'>\r\n          <p className='user-info__avatar-caption'>M</p>\r\n        </div>\r\n        <div className='user-info__container'>\r\n          <p className='user-info__name'>{currentUser.name}</p>\r\n          <p className='user-info__email'>{currentUser.email}</p>\r\n        </div>\r\n        <NavLink to='/' className='navlink_size_s '>Редактировать </NavLink>\r\n      </section>\r\n      <div className='flex_type_row'>\r\n        <section className='profile__orders'>\r\n          <h2 className='profile__subheader'>Заказы</h2>\r\n        </section>\r\n        <section className='profile__wishlist'>\r\n          <h2 className='profile__subheader'>Избранное</h2>\r\n          <ul className='profile__wishlist_ul'>\r\n            {wishlist.map((product) => (\r\n              <li className='profile__wishlist_li'>\r\n                <img className='' src={`https://dolina.shop/photos/${product.pictures[0].path.slice(0, -4) + `_preview.jpg`}`}></img>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </section>\r\n      </div>\r\n      \r\n      <MobileNavBar/>\r\n    </main>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\n// Что должно быть: \r\n// - имя, почта, телефон \r\n// - выйти из профиля\r\n// - избранное \r\n// - заказы \r\n// - ожидаемые доставки? \r\n// - недавно просмотренные"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}