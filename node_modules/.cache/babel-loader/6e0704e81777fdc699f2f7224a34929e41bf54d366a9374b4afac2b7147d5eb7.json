{"ast":null,"code":"import{useEffect,useState}from'react';import{useMediaQuery}from'react-responsive';import Skeleton from'react-loading-skeleton';import'react-loading-skeleton/dist/skeleton.css';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UpsellCard(_ref){let{name,price,inStock,onCardClick,onLikeClick,id,slug,pictures,isUnique,savedProducts}=_ref;const mainPicture=\"https://dolina.shop/photos/\".concat(pictures[0].path.slice(0,-4)+\"_preview.jpg\");// делаем полный путь конкатенацией\n// const [previewPicture, setPreviewPicture] = useState(mainPicture);\nconst isBigScreen=useMediaQuery({minWidth:771});// надо бы перенести в константы\nconst isSmallScreen=useMediaQuery({maxWidth:770});const[isAvailable,setIsAviable]=useState(inStock>0?true:false);// const [isSoldLabel, setIsSoldLabel] = useState(false);\n// function handleClick() {\n//   let newSlug = slug + \"-\" + id;\n//   onCardClick(newSlug)\n// }\nfunction handleLike(e){e.preventDefault();onLikeClick(id);}return/*#__PURE__*/_jsx(Link,{to:\"\".concat('/product/'+slug+'-'+id),style:{textDecoration:'none',color:'black'},children:/*#__PURE__*/_jsxs(\"li\",{className:\"upsell-card pointer\",children:[isBigScreen&&(!pictures?/*#__PURE__*/_jsx(\"div\",{className:\"upsell-card__container\",children:/*#__PURE__*/_jsx(Skeleton,{height:336,width:200})}):/*#__PURE__*/_jsxs(\"div\",{className:\"upsell-card__container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"upsell__image-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:isAvailable?'upsell__sold-label ':'upsell__sold-label upsell-label_active ',children:/*#__PURE__*/_jsx(\"p\",{className:\"upsell__label-font\",children:\"\\u041F\\u0440\\u043E\\u0434\\u0430\\u043D\\u043E\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:savedProducts.includes(id)?'card__save-button card__save-button_active':'card__save-button',onClick:handleLike}),/*#__PURE__*/_jsx(\"div\",{className:\"card__image-overlay\"}),/*#__PURE__*/_jsx(\"img\",{className:\"upsell-card__image\",src:mainPicture})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__description-area\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"card__price\",children:[price,\" \\u20BD\"]}),/*#__PURE__*/_jsx(\"h2\",{className:\"card__header\",children:name})]})]})),isSmallScreen&&(!pictures?/*#__PURE__*/_jsx(\"div\",{className:\"upsell-card__container\",children:/*#__PURE__*/_jsx(Skeleton,{height:265,width:170})}):/*#__PURE__*/_jsxs(\"div\",{className:\"upsell-card__container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"upsell__image-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:isAvailable?'upsell__sold-label ':'upsell__sold-label upsell-label_active ',children:/*#__PURE__*/_jsx(\"p\",{className:\"upsell__label-font\",children:\"\\u041F\\u0440\\u043E\\u0434\\u0430\\u043D\\u043E\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:savedProducts.includes(id)?'card__save-button card__save-button_active':'card__save-button',onClick:handleLike}),/*#__PURE__*/_jsx(\"div\",{className:\"card__image-overlay\"}),/*#__PURE__*/_jsx(\"img\",{className:\"upsell-card__image\",src:mainPicture})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__description-area\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"card__price\",children:[price,\" \\u20BD\"]}),/*#__PURE__*/_jsx(\"h2\",{className:\"card__header\",children:name})]})]}))]},id)});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}