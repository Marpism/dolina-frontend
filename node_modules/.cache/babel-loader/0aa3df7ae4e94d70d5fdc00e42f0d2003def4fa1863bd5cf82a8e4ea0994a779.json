{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Maria\\\\Desktop\\\\Coding\\\\01dolina\\\\dolina_frontend\\\\src\\\\components\\\\Map\\\\Map.js\",\n  _s = $RefreshSig$();\nimport { YMaps, Map, Clusterer, Placemark } from '@pbe/react-yandex-maps';\nimport { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction YandexMap({\n  city,\n  deliveryPoints,\n  handlePlacemarkClick,\n  deliveryType\n}) {\n  _s();\n  const apiKey = '3044f076-5c89-4f54-bdfe-98f7f44b67c2';\n  const [deliveryPointsLocations, setDeliveryPointsLocations] = useState([]);\n  const [cityLocation, setCityLocation] = useState([]);\n  useEffect(() => {\n    setCityLocation([city.latitude, city.longitude]);\n  }, [city]);\n  useEffect(() => {\n    if (deliveryType === 1) {\n      setDeliveryPointsLocations(deliveryPoints.map(({\n        location: {\n          latitude,\n          longitude\n        }\n      }) => [latitude, longitude]));\n    } else if (deliveryType === 4) {\n      setDeliveryPointsLocations(deliveryPoints.map(({\n        GPS\n      }) => {\n        const [latitude, longitude] = GPS.split(',').map(coord => parseFloat(coord.trim()));\n        return [latitude, longitude];\n      }));\n    } else if (deliveryType === 6) {\n      setDeliveryPointsLocations(deliveryPoints.map(({\n        lat,\n        lng\n      }) => [lat, lng]));\n    }\n  }, [deliveryPoints]);\n  return /*#__PURE__*/_jsxDEV(YMaps, {\n    enterprise: true,\n    query: {\n      apikey: apiKey\n    },\n    children: /*#__PURE__*/_jsxDEV(Map, {\n      width: \"100%\",\n      height: \"300px\",\n      state: {\n        center: cityLocation,\n        zoom: 9,\n        controls: [\"zoomControl\"]\n      },\n      modules: [\"control.ZoomControl\"],\n      children: /*#__PURE__*/_jsxDEV(Clusterer, {\n        options: {\n          groupByCoordinates: false\n        },\n        children: deliveryPointsLocations.map((coordinates, index) => /*#__PURE__*/_jsxDEV(Placemark, {\n          geometry: coordinates,\n          onClick: () => handlePlacemarkClick(index)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n_s(YandexMap, \"vynmMeUZ5Yvr+rFCWZl+sjd5VFQ=\");\n_c = YandexMap;\n;\nexport default YandexMap;\nvar _c;\n$RefreshReg$(_c, \"YandexMap\");","map":{"version":3,"names":["YMaps","Map","Clusterer","Placemark","useEffect","useState","jsxDEV","_jsxDEV","YandexMap","city","deliveryPoints","handlePlacemarkClick","deliveryType","_s","apiKey","deliveryPointsLocations","setDeliveryPointsLocations","cityLocation","setCityLocation","latitude","longitude","map","location","GPS","split","coord","parseFloat","trim","lat","lng","enterprise","query","apikey","children","width","height","state","center","zoom","controls","modules","options","groupByCoordinates","coordinates","index","geometry","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Maria/Desktop/Coding/01dolina/dolina_frontend/src/components/Map/Map.js"],"sourcesContent":["import { YMaps, Map, Clusterer, Placemark } from '@pbe/react-yandex-maps';\r\nimport { useEffect, useState } from 'react';\r\n\r\nfunction YandexMap({ city, deliveryPoints, handlePlacemarkClick, deliveryType }) {\r\n\r\n  const apiKey = '3044f076-5c89-4f54-bdfe-98f7f44b67c2';\r\n  const [deliveryPointsLocations, setDeliveryPointsLocations] = useState([]);\r\n  const [cityLocation, setCityLocation] = useState([]);\r\n\r\n  useEffect(() => {\r\n    setCityLocation([city.latitude, city.longitude]);\r\n  }, [city])\r\n\r\n\r\n  useEffect(() => {\r\n    if (deliveryType === 1) {\r\n      setDeliveryPointsLocations(\r\n        deliveryPoints.map(({ location: { latitude, longitude } }) => [latitude, longitude])\r\n      );\r\n    } else if (deliveryType === 4) {\r\n      setDeliveryPointsLocations(\r\n        deliveryPoints.map(({ GPS }) => {\r\n          const [latitude, longitude] = GPS.split(',').map(coord => parseFloat(coord.trim()));\r\n          return [latitude, longitude];\r\n        })\r\n      );\r\n    } else if (deliveryType === 6) {\r\n      setDeliveryPointsLocations(\r\n        deliveryPoints.map(({ lat, lng }) => [lat, lng])\r\n      );\r\n    }\r\n  }, [deliveryPoints])\r\n\r\n  return (\r\n    <YMaps\r\n      enterprise\r\n      query={{\r\n        apikey: apiKey,\r\n      }}>\r\n      <Map\r\n        width=\"100%\"\r\n        height=\"300px\"\r\n        state={{\r\n          center: cityLocation,\r\n          zoom: 9,\r\n          controls: [\"zoomControl\"],\r\n        }}\r\n        modules={[\"control.ZoomControl\"]}\r\n      >\r\n        <Clusterer\r\n          options={{\r\n            groupByCoordinates: false,\r\n          }}\r\n        >\r\n          {deliveryPointsLocations.map((coordinates, index) => (\r\n            <Placemark key={index} geometry={coordinates} onClick={() => handlePlacemarkClick(index)} />\r\n          ))}\r\n        </Clusterer>\r\n      </Map>\r\n    </YMaps>\r\n  )\r\n};\r\n\r\nexport default YandexMap;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}