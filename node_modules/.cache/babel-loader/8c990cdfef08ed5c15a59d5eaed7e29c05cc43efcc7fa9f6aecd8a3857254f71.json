{"ast":null,"code":"// import '../Form.css'\nimport Form from'./Form';import{useEffect,useState}from'react';import{EMAIL_REGEXP}from'../../utils/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RegisterForm(_ref){let{onRegistration,inputError}=_ref;const[name,setName]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[nameValidationError,setNameValidationError]=useState('');const[emailValidationError,setEmailValidationError]=useState('');const[passwordValidationError,setPasswordValidationError]=useState('');const[submitDisabled,setSubmitDisabled]=useState(true);useEffect(()=>{if(name.length>1&&EMAIL_REGEXP.test(email)&&password.length>5){setSubmitDisabled(false);}else{setSubmitDisabled(true);}},[name,email,password]);function handleSubmit(e){e.preventDefault();if(EMAIL_REGEXP.test(email)){setEmailValidationError('');onRegistration(name,email,password);}else{setEmailValidationError('Введён некорректный email');}}function handleNameChange(e){setName(e.target.value);if(e.target.value.length>1){setNameValidationError('');}else{setNameValidationError('Имя не может быть короче 2 букв');}}function handleEmailChange(e){setEmail(e.target.value);if(EMAIL_REGEXP.test(e.target.value)){setEmailValidationError('');}else{setEmailValidationError('Введён некорректный email');}}function handlePasswordChange(e){setPassword(e.target.value);if(e.target.value.length>5){setPasswordValidationError('');}else{setPasswordValidationError('Пароль должен быть длиннее 6 символов');}}return/*#__PURE__*/_jsxs(Form,{title:\"\\u0414\\u043E\\u0431\\u0440\\u043E \\u043F\\u043E\\u0436\\u0430\\u043B\\u043E\\u0432\\u0430\\u0442\\u044C \\u0432 \\u0414\\u043E\\u043B\\u0438\\u043D\\u0443 \\u0441\\u0430\\u043C\\u043E\\u0446\\u0432\\u0435\\u0442\\u043E\\u0432!\",name:\"register\",buttonText:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\",submitDisabled:submitDisabled,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"form__input-label\",children:\"\\u0418\\u043C\\u044F\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form__input\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043C\\u044F\",type:\"text\",name:\"username\",required:true,minLength:2,maxLength:30,onChange:handleNameChange,value:name||''}),/*#__PURE__*/_jsx(\"p\",{className:\"input__error\",children:nameValidationError}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form__input-label\",children:\"E-mail\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form__input\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 e-mail\",type:\"email\",name:\"email\",required:true,minLength:2,maxLength:30,onChange:handleEmailChange,value:email||''}),/*#__PURE__*/_jsx(\"p\",{className:\"input__error\",children:emailValidationError}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form__input-label\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form__input\",placeholder:\"\\u041F\\u0440\\u0438\\u0434\\u0443\\u043C\\u0430\\u0439\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",type:\"password\",name:\"password\",required:true,minLength:6,maxLength:30,onChange:handlePasswordChange,value:password||''}),/*#__PURE__*/_jsx(\"p\",{className:\"input__error\",children:passwordValidationError}),/*#__PURE__*/_jsx(\"p\",{className:\"input__error\",children:inputError})]});}","map":{"version":3,"names":["Form","useEffect","useState","EMAIL_REGEXP","jsx","_jsx","jsxs","_jsxs","RegisterForm","_ref","onRegistration","inputError","name","setName","email","setEmail","password","setPassword","nameValidationError","setNameValidationError","emailValidationError","setEmailValidationError","passwordValidationError","setPasswordValidationError","submitDisabled","setSubmitDisabled","length","test","handleSubmit","e","preventDefault","handleNameChange","target","value","handleEmailChange","handlePasswordChange","title","buttonText","onSubmit","children","htmlFor","className","placeholder","type","required","minLength","maxLength","onChange"],"sources":["C:/Users/Maria/Desktop/Coding/01dolina/dolina_frontend/src/components/Form/RegisterForm.js"],"sourcesContent":["// import '../Form.css'\r\nimport Form from './Form';\r\nimport { useEffect, useState } from 'react';\r\nimport { EMAIL_REGEXP } from '../../utils/constants';\r\n\r\nexport default function RegisterForm({ onRegistration, inputError }) {\r\n\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [nameValidationError, setNameValidationError] = useState('');\r\n  const [emailValidationError, setEmailValidationError] = useState('');\r\n  const [passwordValidationError, setPasswordValidationError] = useState('');\r\n  const [submitDisabled, setSubmitDisabled] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (name.length > 1 && EMAIL_REGEXP.test(email) && password.length > 5) {\r\n      setSubmitDisabled(false);\r\n    } else {\r\n      setSubmitDisabled(true);\r\n    }\r\n  }, [name, email, password]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (EMAIL_REGEXP.test(email)) {\r\n      setEmailValidationError('');\r\n      onRegistration(name, email, password);\r\n    } else {\r\n      setEmailValidationError('Введён некорректный email');\r\n    }\r\n  }\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n    \r\n    if (e.target.value.length > 1) {\r\n      setNameValidationError('');\r\n    } else {\r\n      setNameValidationError('Имя не может быть короче 2 букв');\r\n    }\r\n  }\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value);\r\n    \r\n    if (EMAIL_REGEXP.test(e.target.value)) {\r\n      setEmailValidationError('');\r\n    } else {\r\n      setEmailValidationError('Введён некорректный email');\r\n    }\r\n  }\r\n\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value);\r\n    \r\n    if (e.target.value.length > 5) {\r\n      setPasswordValidationError('');\r\n    } else {\r\n      setPasswordValidationError('Пароль должен быть длиннее 6 символов');\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n      <Form\r\n        title=\"Добро пожаловать в Долину самоцветов!\"\r\n        name=\"register\"\r\n        buttonText=\"Зарегистрироваться\"\r\n        submitDisabled={submitDisabled}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <label htmlFor=\"username\" className='form__input-label'>Имя</label>\r\n        <input\r\n          className=\"form__input\"\r\n          placeholder=\"Введите имя\"\r\n          type=\"text\"\r\n          name=\"username\"\r\n          required\r\n          minLength={2}\r\n          maxLength={30}\r\n        onChange={handleNameChange}\r\n        value={name || ''}\r\n        ></input>\r\n        <p className='input__error'>{nameValidationError}</p>\r\n        \r\n        <label htmlFor=\"email\" className='form__input-label'>E-mail</label>\r\n        <input\r\n          className=\"form__input\"\r\n          placeholder=\"Введите e-mail\"\r\n          type=\"email\"\r\n          name=\"email\"\r\n          required\r\n          minLength={2}\r\n          maxLength={30}\r\n        onChange={handleEmailChange}\r\n        value={email || ''}\r\n        ></input>\r\n        \r\n        <p className='input__error'>{emailValidationError}</p>\r\n\r\n        <label htmlFor=\"password\" className='form__input-label'>Пароль</label>\r\n        <input\r\n          className=\"form__input\"\r\n          placeholder=\"Придумайте пароль\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          required\r\n          minLength={6}\r\n          maxLength={30}\r\n        onChange={handlePasswordChange}\r\n        value={password || ''}\r\n        ></input>\r\n\r\n        <p className='input__error'>{passwordValidationError}</p>\r\n\r\n        <p className='input__error'>{inputError}</p>\r\n\r\n      </Form>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}