{"ast":null,"code":"import'./Card.css';import{useEffect,useState}from'react';import MobileSlider from'./MobileSlider';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Card(_ref){let{name,mainPicture,price,onCardClick,onLikeClick,id,slug,pictures,isUnique,savedProducts}=_ref;mainPicture=mainPicture.replace(/'/g,'');// kolkhoz\npictures=JSON.parse(pictures);// это должно быть в api \nconst[previewPicture,setPreviewPicture]=useState(mainPicture);//поднять стейт?\nfunction handleClick(){let newSlug=slug+\"-\"+id;onCardClick(newSlug);}function handleLike(e){e.preventDefault();onLikeClick(id);}// function onHover() {\n// }\nreturn/*#__PURE__*/_jsx(\"li\",{className:\"card pointer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card__container\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card__image-container\",onMouseLeave:()=>{setPreviewPicture(mainPicture);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card__previews\",children:pictures.map(pic=>/*#__PURE__*/_jsxs(\"div\",{className:\"card__preview-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card__preview-mark\"}),/*#__PURE__*/_jsx(\"img\",{className:\"card__preview\",src:pic,onClick:handleClick,onMouseOver:()=>{setPreviewPicture(pic);}})]},pictures.indexOf(pic)))}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:savedProducts.includes(id)?'card__save-button card__save-button_active':'card__save-button',onClick:handleLike}),/*#__PURE__*/_jsx(\"div\",{className:\"card__image-overlay\"}),/*#__PURE__*/_jsx(\"img\",{className:\"card__image\",src:previewPicture})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__mobile-container\",children:[/*#__PURE__*/_jsx(MobileSlider,{pictures:pictures}),/*#__PURE__*/_jsx(\"div\",{className:\"card__image-overlay\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__description-area\",onClick:handleClick,children:[/*#__PURE__*/_jsxs(\"span\",{className:\"card__price\",children:[price,\" \\u20BD\"]}),/*#__PURE__*/_jsx(\"h2\",{className:\"card__header\",children:name})]})]})},id);}","map":{"version":3,"names":["useEffect","useState","MobileSlider","jsx","_jsx","jsxs","_jsxs","Card","_ref","name","mainPicture","price","onCardClick","onLikeClick","id","slug","pictures","isUnique","savedProducts","replace","JSON","parse","previewPicture","setPreviewPicture","handleClick","newSlug","handleLike","e","preventDefault","className","children","href","onMouseLeave","map","pic","src","onClick","onMouseOver","indexOf","type","includes"],"sources":["C:/Users/Maria/Desktop/Coding/01dolina/dolina_frontend/src/components/Card/Card.js"],"sourcesContent":["import './Card.css';\r\nimport { useEffect, useState } from 'react';\r\nimport MobileSlider from './MobileSlider';\r\n\r\nexport default function Card({ name, mainPicture, price, onCardClick, onLikeClick, id, slug, pictures, isUnique, savedProducts }) {\r\n\r\n  mainPicture = mainPicture.replace(/'/g, ''); // kolkhoz\r\n  pictures = JSON.parse(pictures); // это должно быть в api \r\n  const [previewPicture, setPreviewPicture] = useState(mainPicture); //поднять стейт?\r\n\r\n  function handleClick() {\r\n    let newSlug = slug + \"-\" + id;\r\n    onCardClick(newSlug)\r\n  }\r\n\r\n  function handleLike(e) {\r\n    e.preventDefault();\r\n    onLikeClick(id);\r\n  }\r\n\r\n\r\n\r\n  // function onHover() {\r\n\r\n  // }\r\n\r\n  return (\r\n    <li className='card pointer' key={id}>\r\n      <div className='card__container'>\r\n        <a href=''>\r\n\r\n\r\n\r\n          <div className='card__image-container' onMouseLeave={() => { setPreviewPicture(mainPicture) }}>\r\n            <div className='card__previews'>\r\n              {pictures.map((pic) => (\r\n                <div className='card__preview-container' key={pictures.indexOf(pic)}> \r\n                  <div className='card__preview-mark'></div> \r\n                  <img className='card__preview' \r\n                  src={pic} \r\n                  onClick={handleClick}\r\n                  onMouseOver={() => {\r\n                    setPreviewPicture(pic)\r\n                  }}\r\n                ></img>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <button type='button' className={(savedProducts.includes(id) ? 'card__save-button card__save-button_active' : 'card__save-button')} onClick={handleLike}></button>\r\n            <div className='card__image-overlay'></div>\r\n            <img className='card__image' src={previewPicture}/>\r\n          </div>\r\n\r\n\r\n\r\n          <div className='card__mobile-container'>\r\n          <MobileSlider pictures={pictures}/>\r\n          <div className='card__image-overlay'></div>\r\n          </div>\r\n\r\n\r\n        </a>\r\n        <div className='card__description-area' onClick={handleClick}>\r\n          <span className='card__price'>{price} &#8381;</span>\r\n          <h2 className='card__header'>{name}</h2>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}