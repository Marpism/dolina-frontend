{"ast":null,"code":"class ProductsApi {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n  _getResponseData(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n  getAllProducts() {\n    return fetch(this._url + '/products/all', {\n      method: 'GET',\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n  getProduct(id) {\n    return fetch(this._url + `/products/by_id?productId=${id}`, {\n      method: 'GET',\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n  getProductsById(products) {\n    let savedPoducts = products.join(',');\n    return fetch(this._url + `/products/by_id?productId=${savedPoducts}`, {\n      method: 'GET',\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n  getTerms() {\n    return fetch(this._url + '/products/terms', {\n      method: 'GET',\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n  filterProducts(category = '', tags = '', search = '', offset = '', pageSize = '', sortBy = '', seed = 1) {\n    let sortByClean = sortBy.includes('-') ? sortBy.split('-')[0] : sortBy;\n    let sortOrder = 'asc';\n    if (sortBy.includes('-desc')) sortOrder = 'desc';\n    console.log(`/products/filter?category=${category}&tags=${tags}&search=${search}&offset=${offset}&pageSize=${pageSize}&sortBy=${sortByClean}&sortOrder=${sortOrder}&seed=${seed}`);\n    return fetch(this._url + `/products/filter?category=${category}&tags=${tags}&search=${search}&offset=${offset}&pageSize=${pageSize}&sortBy=${sortByClean}&sortOrder=${sortOrder}&seed=${seed}`, {\n      method: 'GET',\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n  getCdekCities(city) {\n    return fetch(this._url + `/cdek/city?city=${city}`, {\n      method: 'GET',\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n  getCdekTariff(city) {\n    return fetch(this._url + `/cdek/tarifflist?codeTo=${city}`, {\n      method: 'GET',\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n  getDeliveryPoints(city) {\n    return fetch(this._url + `/cdek/deliveryPoints?city_code=${city}`, {\n      method: 'GET',\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n}\nconst productsApi = new ProductsApi({\n  url: ' https://backend.dolina.shop',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\nexport default productsApi;","map":{"version":3,"names":["ProductsApi","constructor","options","_url","url","_headers","headers","_getResponseData","res","ok","Promise","reject","status","json","getAllProducts","fetch","method","then","getProduct","id","getProductsById","products","savedPoducts","join","getTerms","filterProducts","category","tags","search","offset","pageSize","sortBy","seed","sortByClean","includes","split","sortOrder","console","log","getCdekCities","city","getCdekTariff","getDeliveryPoints","productsApi"],"sources":["C:/Users/Maria/Desktop/Coding/01dolina/dolina_frontend/src/utils/Api.js"],"sourcesContent":["class ProductsApi {\r\n  constructor(options) {\r\n    this._url = options.url\r\n    this._headers = options.headers\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    return res.json();\r\n  }\r\n\r\n  getAllProducts() {\r\n    return fetch(this._url + '/products/all', {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n      .then(this._getResponseData);\r\n  }\r\n\r\n  getProduct(id) {\r\n    return fetch(this._url + `/products/by_id?productId=${id}`, {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n      .then(this._getResponseData);\r\n  }\r\n\r\n  getProductsById(products) {\r\n    let savedPoducts = products.join(',');\r\n    return fetch(this._url + `/products/by_id?productId=${savedPoducts}`, {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n      .then(this._getResponseData);\r\n  }\r\n\r\n  getTerms() {\r\n    return fetch(this._url + '/products/terms', {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n      .then(this._getResponseData);\r\n  }\r\n\r\n  filterProducts(category = '', tags = '', search = '', offset = '', pageSize = '', sortBy = '', seed = 1) {\r\n    let sortByClean = sortBy.includes('-') ? sortBy.split('-')[0] : sortBy;\r\n    let sortOrder = 'asc';\r\n    if (sortBy.includes('-desc')) sortOrder = 'desc';\r\n\r\n    console.log(`/products/filter?category=${category}&tags=${tags}&search=${search}&offset=${offset}&pageSize=${pageSize}&sortBy=${sortByClean}&sortOrder=${sortOrder}&seed=${seed}`);\r\n\r\n    return fetch(this._url + `/products/filter?category=${category}&tags=${tags}&search=${search}&offset=${offset}&pageSize=${pageSize}&sortBy=${sortByClean}&sortOrder=${sortOrder}&seed=${seed}`, {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n    .then(this._getResponseData);\r\n  }\r\n\r\n  getCdekCities(city) {\r\n      return fetch(this._url + `/cdek/city?city=${city}`, {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n      .then(this._getResponseData);\r\n  }\r\n\r\n  getCdekTariff(city) {\r\n    return fetch(this._url + `/cdek/tarifflist?codeTo=${city}`, {\r\n    method: 'GET',\r\n    headers: this._headers\r\n  })\r\n    .then(this._getResponseData);\r\n}\r\n\r\n  getDeliveryPoints(city) {\r\n    return fetch(this._url + `/cdek/deliveryPoints?city_code=${city}`, {\r\n    method: 'GET',\r\n    headers: this._headers\r\n  })\r\n    .then(this._getResponseData);\r\n  }\r\n\r\n}\r\n\r\n        \r\nconst productsApi = new ProductsApi({\r\n  url: ' https://backend.dolina.shop',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  }\r\n});\r\n\r\nexport default productsApi;\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}