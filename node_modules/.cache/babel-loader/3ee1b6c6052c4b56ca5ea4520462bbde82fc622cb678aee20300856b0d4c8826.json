{"ast":null,"code":"import'./Form.css';import{Link,useLocation,useParams,useNavigate}from'react-router-dom';import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ChangePasswordForm(_ref){let{onSubmit}=_ref;const[password,setPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[passwordValidationError,setPasswordValidationError]=useState('');const[confirmPasswordValidationError,setConfirmPasswordValidationError]=useState('');const[submitDisabled,setSubmitDisabled]=useState(true);const{token}=useParams();const navigate=useNavigate();if(!token)navigate('/');useEffect(()=>{if(password.length>6&&password===confirmPassword){setSubmitDisabled(false);setPasswordValidationError('');setConfirmPasswordValidationError('');}else{setSubmitDisabled(true);if(password.length<=6){setPasswordValidationError('Пароль должен быть длиннее 6 символов');}else{setPasswordValidationError('');}if(password!==confirmPassword){setConfirmPasswordValidationError('Пароли не совпадают');}else{setConfirmPasswordValidationError('');}}},[password,confirmPassword]);function handlePasswordChange(e){setPassword(e.target.value);}function handleConfirmPasswordChange(e){setConfirmPassword(e.target.value);}function handleSubmit(e){e.preventDefault();if(password===confirmPassword){onSubmit(token,password);}}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"body\",{className:\"form-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"form__container\",children:/*#__PURE__*/_jsx(\"form\",{name:\"change-password-form\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"fieldset\",{className:\"form__fieldset\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"form__title\",children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044F\"}),/*#__PURE__*/_jsx(\"input\",{style:{margin:'10px 0'},className:\"form__input\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",type:\"password\",name:\"password\",required:true,minLength:6,maxLength:30,onChange:handlePasswordChange,value:password||''}),/*#__PURE__*/_jsx(\"p\",{className:\"input__error\",children:passwordValidationError}),/*#__PURE__*/_jsx(\"input\",{style:{margin:'10px 0'},className:\"form__input\",placeholder:\"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u0435 \\u043D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",type:\"password\",name:\"confirmPassword\",required:true,minLength:6,maxLength:30,onChange:handleConfirmPasswordChange,value:confirmPassword||''}),/*#__PURE__*/_jsx(\"p\",{className:\"input__error\",children:confirmPasswordValidationError}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",name:\"submit\",className:\"form__submit-button hover_type_normal\",disabled:submitDisabled,children:\"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u044C\"})]})})}),/*#__PURE__*/_jsx(\"div\",{id:\"buttonContainerId\"})]})})});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}