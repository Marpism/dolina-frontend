{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Maria\\\\Desktop\\\\Coding\\\\01dolina\\\\dolina_frontend\\\\src\\\\components\\\\Tags\\\\Tags.js\",\n  _s = $RefreshSig$();\nimport './Tags.css';\nimport { useEffect, useMemo, useState } from 'react';\nimport caret from '../../images/caret-down_mini.svg';\nimport sorting from '../../images/sorting_2.svg';\nimport { useMediaQuery } from 'react-responsive';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Tags({\n  terms,\n  tags,\n  categories,\n  onTagClick,\n  onColorClick,\n  onSizeClick,\n  activeCategory,\n  activeTags,\n  sortBy,\n  setSortBy,\n  sortOrder,\n  setSortOrder,\n  productFilters,\n  setProductFilters,\n  onCatClick\n}) {\n  _s();\n  var _terms$colors, _terms$colors2;\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [filteredTags, setFilteredTags] = useState([]);\n  const [selectedColors, setSelectedColors] = useState([]);\n  const [selectedSizes, setSelectedSizes] = useState([]);\n  const [openDropdownIndex, setOpenDropdownIndex] = useState(null);\n  const [stonesInputValue, setStonesInputValue] = useState('');\n  const [selectedCategoryName, setSelectedCategoryName] = useState('');\n  const isBigScreen = useMediaQuery({\n    minWidth: 771\n  });\n  const isSmallScreen = useMediaQuery({\n    maxWidth: 770\n  });\n  const location = useLocation();\n\n  // --- Ищем категорию «Кольца» и считаем флаг isRings\n  const ringsCategoryId = useMemo(() => {\n    var _found$termId;\n    const list = (terms === null || terms === void 0 ? void 0 : terms.categories) || categories || [];\n    const found = list.find(c => {\n      var _c$name, _c$name$trim, _c$slug, _c$slug$toLowerCase, _c$slug2, _c$slug2$toLowerCase;\n      return (c === null || c === void 0 ? void 0 : (_c$name = c.name) === null || _c$name === void 0 ? void 0 : (_c$name$trim = _c$name.trim()) === null || _c$name$trim === void 0 ? void 0 : _c$name$trim.toLowerCase()) === 'кольца' || (c === null || c === void 0 ? void 0 : (_c$slug = c.slug) === null || _c$slug === void 0 ? void 0 : (_c$slug$toLowerCase = _c$slug.toLowerCase) === null || _c$slug$toLowerCase === void 0 ? void 0 : _c$slug$toLowerCase.call(_c$slug)) === 'kolca' || (c === null || c === void 0 ? void 0 : (_c$slug2 = c.slug) === null || _c$slug2 === void 0 ? void 0 : (_c$slug2$toLowerCase = _c$slug2.toLowerCase) === null || _c$slug2$toLowerCase === void 0 ? void 0 : _c$slug2$toLowerCase.call(_c$slug2)) === 'koltsa';\n    });\n    return (_found$termId = found === null || found === void 0 ? void 0 : found.termId) !== null && _found$termId !== void 0 ? _found$termId : null;\n  }, [terms, categories]);\n  const isRings = ringsCategoryId != null && Number(productFilters === null || productFilters === void 0 ? void 0 : productFilters.category) === Number(ringsCategoryId);\n\n  // --- Отсортированный список размеров по возрастанию\n  const sortedSizes = useMemo(() => {\n    const toNum = sizeObj => {\n      var _sizeObj$name;\n      let str = String((_sizeObj$name = sizeObj === null || sizeObj === void 0 ? void 0 : sizeObj.name) !== null && _sizeObj$name !== void 0 ? _sizeObj$name : '').trim().replace(',', '.').replace('½', '.5');\n      const m = str.match(/[\\d.]+/g);\n      if (!m) return Number.POSITIVE_INFINITY;\n      const num = parseFloat(m[0]);\n      return Number.isNaN(num) ? Number.POSITIVE_INFINITY : num;\n    };\n    return [...((terms === null || terms === void 0 ? void 0 : terms.sizes) || [])].sort((a, b) => toNum(a) - toNum(b));\n  }, [terms === null || terms === void 0 ? void 0 : terms.sizes]);\n  const handleTagToggle = tag => {\n    let activeTagsTemporary = [];\n    if (selectedTags.includes(tag)) {\n      activeTagsTemporary = selectedTags.filter(selectedTag => selectedTag !== tag);\n    } else {\n      activeTagsTemporary = [...selectedTags, tag];\n    }\n    setSelectedTags(activeTagsTemporary);\n    onTagClick(activeTagsTemporary);\n  };\n  function handleCategoryClick(event) {\n    event.preventDefault();\n    const selectedCategoryId = event.target.dataset.id;\n    onCatClick(selectedCategoryId);\n    setOpenDropdownIndex(null);\n  }\n  const handleColorToggle = color => {\n    let activeColorsTemporary = [];\n    if (selectedColors.includes(color)) {\n      activeColorsTemporary = selectedColors.filter(selectedColor => selectedColor !== color);\n    } else {\n      activeColorsTemporary = [...selectedColors, color];\n    }\n    setSelectedColors(activeColorsTemporary);\n    onColorClick(activeColorsTemporary);\n  };\n  const handleSizeToggle = size => {\n    let activeSizesTemporary = [];\n    if (selectedSizes.includes(size)) {\n      activeSizesTemporary = selectedSizes.filter(selectedSize => selectedSize !== size);\n    } else {\n      activeSizesTemporary = [...selectedSizes, size];\n    }\n    setSelectedSizes(activeSizesTemporary);\n    onSizeClick(activeSizesTemporary);\n  };\n  const toggleDropdown = (index, event) => {\n    event.stopPropagation();\n    setOpenDropdownIndex(prevIndex => prevIndex === index ? null : index);\n  };\n  useEffect(() => {\n    if (tags) {\n      // базовый список (только с товарами)\n      let next = tags.filter(tag => tag.count !== 0);\n\n      // по категории\n      if (productFilters.category > 0) {\n        const activeCategoryTags = JSON.parse(categories.filter(item => item.termId == productFilters.category)[0].category_tags);\n        next = next.filter(tag => activeCategoryTags.includes(Number(tag.termId)));\n      }\n\n      // поиск по камням\n      if (stonesInputValue.length > 0) {\n        const q = stonesInputValue.toLowerCase();\n        next = next.filter(tag => tag.name.toLowerCase().includes(q));\n      }\n      setFilteredTags(next);\n    }\n  }, [tags, productFilters, stonesInputValue, categories]);\n\n  // Синхронизация локальных выбранных значений со стором фильтров\n  useEffect(() => setSelectedTags(productFilters.tags || []), [productFilters.tags]);\n  useEffect(() => setSelectedColors(productFilters.colors || []), [productFilters.colors]);\n  useEffect(() => setSelectedSizes(productFilters.sizes || []), [productFilters.sizes]);\n  useEffect(() => {\n    setSelectedCategoryName('');\n  }, [productFilters]);\n\n  // Закрытие дропдаунов по клику вне\n  useEffect(() => {\n    const handleClick = event => {\n      const target = event.target;\n      const parent = target.parentElement;\n      if (!target.classList.contains('dropdown_selector') && !(parent && parent.classList.contains('dropdown_selector'))) {\n        setOpenDropdownIndex(null);\n      }\n    };\n    document.addEventListener('click', handleClick);\n    return () => document.removeEventListener('click', handleClick);\n  }, []);\n\n  // Имя выбранной категории из URL\n  useEffect(() => {\n    const query = new URLSearchParams(location.search);\n    const categoryId = query.get('category');\n    if (categoryId && terms !== null && terms !== void 0 && terms.categories) {\n      const category = terms.categories.find(cat => cat.termId === parseInt(categoryId));\n      if (category) setSelectedCategoryName(category.name);\n    }\n  }, [location.search, terms === null || terms === void 0 ? void 0 : terms.categories]);\n  function handleStonesInput(input) {\n    const inputValue = input.target.value;\n    setStonesInputValue(inputValue);\n  }\n  const handleSortChange = value => {\n    setProductFilters(prevFilters => ({\n      ...prevFilters,\n      sortBy: value,\n      offset: 0\n    }));\n  };\n  const handleMasterpieceChange = event => {\n    setProductFilters(prevFilters => ({\n      ...prevFilters,\n      masterpiece: event.target.checked ? 1 : ''\n    }));\n  };\n  const handleIridescentChange = event => {\n    setProductFilters(prevFilters => ({\n      ...prevFilters,\n      iridescent: event.target.checked ? 1 : ''\n    }));\n  };\n\n  // Если ушли из «Кольца» — сброс размеров и закрытие дропдауна размеров (index 8)\n  useEffect(() => {\n    var _productFilters$sizes;\n    if (!isRings && (selectedSizes.length > 0 || (((_productFilters$sizes = productFilters.sizes) === null || _productFilters$sizes === void 0 ? void 0 : _productFilters$sizes.length) || 0) > 0)) {\n      setSelectedSizes([]);\n      setProductFilters(prev => ({\n        ...prev,\n        sizes: [],\n        offset: 0\n      }));\n      if (openDropdownIndex === 8) setOpenDropdownIndex(null);\n    }\n  }, [isRings]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const sortOptions = [{\n    value: 'default',\n    label: 'По умолчанию'\n  }, {\n    value: 'price-asc',\n    label: 'По возрастанию цены'\n  }, {\n    value: 'price-desc',\n    label: 'По убыванию цены'\n  }, {\n    value: 'date-desc',\n    label: 'По новизне'\n  }, {\n    value: 'discount-desc',\n    label: 'По размеру скидки'\n  }];\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"tag-section\",\n    children: [isBigScreen && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sorting-area\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sorting-dropdown\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"sorting__button pointer\",\n            onClick: event => toggleDropdown(0, event),\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: sorting,\n              alt: \"sort\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `sorting-content overflow-hidden ${openDropdownIndex === 0 ? 'sorting-content_visible' : ''}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tags__dropdown sorting_by\",\n              children: sortOptions.map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleSortChange(option.value),\n                style: {\n                  fontWeight: productFilters.sortBy === option.value ? 'bold' : 'normal'\n                },\n                children: option.label\n              }, option.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this), isRings && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sorting-dropdown\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"sorting-dropdown__button pointer\",\n            onClick: event => toggleDropdown(8, event),\n            children: [selectedSizes.length > 0 ? `Размеры (${selectedSizes.length}) ` : 'Размеры', /*#__PURE__*/_jsxDEV(\"img\", {\n              src: caret,\n              alt: \"caret\",\n              style: {\n                marginLeft: '5px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `sorting-content dropdown_selector ${openDropdownIndex === 8 ? 'sorting-content_visible' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tags__dropdown dropdown_selector\",\n              children: sortedSizes.map(size => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"tag-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  value: size.termId,\n                  className: \"tag-button_dropdown\",\n                  checked: (selectedSizes === null || selectedSizes === void 0 ? void 0 : selectedSizes.some(s => s === size.termId)) || false,\n                  onChange: event => {\n                    event.stopPropagation();\n                    handleSizeToggle(size.termId);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"tag-pseudo-checkbox pointer\",\n                  onClick: event => event.stopPropagation(),\n                  children: size.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 25\n                }, this)]\n              }, size.termId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"sorting-button\",\n              onClick: () => setOpenDropdownIndex(null),\n              children: \"\\u0413\\u043E\\u0442\\u043E\\u0432\\u043E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sorting-dropdown\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"sorting-dropdown__button pointer\",\n            onClick: event => toggleDropdown(5, event),\n            children: [\"\\u0412\\u0441\\u0435 \\u043A\\u0430\\u043C\\u043D\\u0438 \", /*#__PURE__*/_jsxDEV(\"img\", {\n              src: caret,\n              alt: \"caret\",\n              style: {\n                marginLeft: '5px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `sorting-content dropdown_selector ${openDropdownIndex === 5 ? 'sorting-content_visible' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tags__dropdown dropdown_selector\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"dropdown_selector\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"stone-search\",\n                  type: \"text\",\n                  onChange: handleStonesInput,\n                  placeholder: \"\\u043D\\u0430\\u0447\\u043D\\u0438\\u0442\\u0435 \\u0432\\u0432\\u043E\\u0434\\u0438\\u0442\\u044C \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 19\n              }, this), tags && filteredTags.map(tag => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"tag-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  value: tag.termId,\n                  className: \"tag-button_dropdown\",\n                  checked: (selectedTags === null || selectedTags === void 0 ? void 0 : selectedTags.some(t => t === tag.termId)) || false,\n                  onChange: event => {\n                    event.stopPropagation();\n                    handleTagToggle(tag.termId);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"tag-pseudo-checkbox pointer\",\n                  onClick: event => event.stopPropagation(),\n                  children: [tag.name, !productFilters.category && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"tag-count\",\n                    children: tag.count\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 55\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 23\n                }, this)]\n              }, tag.termId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"sorting-button\",\n              onClick: () => setOpenDropdownIndex(null),\n              children: \"\\u0413\\u043E\\u0442\\u043E\\u0432\\u043E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sorting-dropdown\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"sorting-dropdown__button pointer\",\n            onClick: event => toggleDropdown(9, event),\n            children: [selectedColors.length > 0 ? `Цвета (${selectedColors.length}) ` : 'Цвета', /*#__PURE__*/_jsxDEV(\"img\", {\n              src: caret,\n              alt: \"caret\",\n              style: {\n                marginLeft: '5px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `sorting-content dropdown_selector ${openDropdownIndex === 9 ? 'sorting-content_visible' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tags__dropdown dropdown_selector\",\n              children: terms === null || terms === void 0 ? void 0 : (_terms$colors = terms.colors) === null || _terms$colors === void 0 ? void 0 : _terms$colors.map(color => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"tag-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  value: color.termId,\n                  className: \"tag-button_dropdown\",\n                  checked: (selectedColors === null || selectedColors === void 0 ? void 0 : selectedColors.some(c => c === color.termId)) || false,\n                  onChange: event => {\n                    event.stopPropagation();\n                    handleColorToggle(color.termId);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"tag-pseudo-checkbox pointer\",\n                  onClick: event => event.stopPropagation(),\n                  children: [color.name, /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"color_ball\",\n                    style: {\n                      background: color.extra\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 23\n                }, this)]\n              }, color.termId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"sorting-button\",\n              onClick: () => setOpenDropdownIndex(null),\n              children: \"\\u0413\\u043E\\u0442\\u043E\\u0432\\u043E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"tag-label\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"tag-button\",\n            type: \"checkbox\",\n            checked: !!productFilters.masterpiece,\n            onChange: handleMasterpieceChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sorting-dropdown__button pointer\",\n            children: \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0441\\u043A\\u0438\\u0435 \\u0443\\u043A\\u0440\\u0430\\u0448\\u0435\\u043D\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"tag-label\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"tag-button\",\n            type: \"checkbox\",\n            checked: !!productFilters.iridescent,\n            onChange: handleIridescentChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sorting-dropdown__button pointer\",\n            children: \"\\u041E\\u043F\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0439 \\u044D\\u0444\\u0444\\u0435\\u043A\\u0442\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tag-area\",\n        children: tags && filteredTags.slice(0, 15).map(tag => /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"tag-label\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            value: tag.termId,\n            className: \"tag-button\",\n            checked: (selectedTags === null || selectedTags === void 0 ? void 0 : selectedTags.some(t => t === tag.termId)) || false,\n            onChange: () => handleTagToggle(tag.termId)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tag-pseudo-button pointer\",\n            children: [tag.name, !productFilters.category && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"tag-count\",\n              children: tag.count\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 59\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 17\n          }, this)]\n        }, tag.termId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), isSmallScreen && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sorting-area\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tags_flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sorting-dropdown\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"sorting__button pointer\",\n              onClick: event => toggleDropdown(0, event),\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: sorting,\n                alt: \"sort\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `sorting-content overflow-hidden ${openDropdownIndex === 0 ? 'sorting-content_visible' : ''}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tags__dropdown sorting_by\",\n                children: sortOptions.map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleSortChange(option.value),\n                  style: {\n                    fontWeight: productFilters.sortBy === option.value ? 'bold' : 'normal'\n                  },\n                  children: option.label\n                }, option.value, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sorting-dropdown\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"sorting-dropdown__button pointer\",\n              onClick: event => toggleDropdown(12, event),\n              children: [\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438 \", /*#__PURE__*/_jsxDEV(\"img\", {\n                src: caret,\n                alt: \"caret\",\n                style: {\n                  marginLeft: '5px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `sorting-content dropdown_selector ${openDropdownIndex === 12 ? 'sorting-content_visible' : ''}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tags__dropdown dropdown_selector\",\n                children: categories && categories.map(category => /*#__PURE__*/_jsxDEV(NavLink, {\n                  to: \"\",\n                  className: \"tag-pseudo-checkbox\",\n                  onClick: handleCategoryClick,\n                  \"data-id\": category.termId,\n                  style: {\n                    marginBottom: '5px'\n                  },\n                  children: category.name\n                }, category.termId, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this), isRings && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sorting-dropdown\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"sorting-dropdown__button pointer\",\n              onClick: event => toggleDropdown(8, event),\n              children: [selectedSizes.length > 0 ? `Размеры (${selectedSizes.length}) ` : 'Размеры', /*#__PURE__*/_jsxDEV(\"img\", {\n                src: caret,\n                alt: \"caret\",\n                style: {\n                  marginLeft: '5px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `sorting-content dropdown_selector ${openDropdownIndex === 8 ? 'sorting-content_visible' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tags__dropdown dropdown_selector\",\n                children: sortedSizes.map(size => /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"tag-label\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    value: size.termId,\n                    className: \"tag-button_dropdown\",\n                    checked: (selectedSizes === null || selectedSizes === void 0 ? void 0 : selectedSizes.some(s => s === size.termId)) || false,\n                    onChange: event => {\n                      event.stopPropagation();\n                      handleSizeToggle(size.termId);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 468,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"tag-pseudo-checkbox pointer\",\n                    onClick: event => event.stopPropagation(),\n                    children: size.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 478,\n                    columnNumber: 27\n                  }, this)]\n                }, size.termId, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"sorting-button\",\n                onClick: () => setOpenDropdownIndex(null),\n                children: \"\\u0413\\u043E\\u0442\\u043E\\u0432\\u043E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tags_flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"tag-label\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"tag-button\",\n              type: \"checkbox\",\n              checked: !!productFilters.masterpiece,\n              onChange: handleMasterpieceChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sorting-dropdown__button pointer\",\n              children: \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0441\\u043A\\u043E\\u0435 \\u0443\\u043A\\u0440\\u0430\\u0448\\u0435\\u043D\\u0438\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"tag-label\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"tag-button\",\n              type: \"checkbox\",\n              checked: !!productFilters.iridescent,\n              onChange: handleIridescentChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sorting-dropdown__button pointer\",\n              children: \"\\u041E\\u043F\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0439 \\u044D\\u0444\\u0444\\u0435\\u043A\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tag-area_mobile\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sorting-dropdown\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"tag-pseudo-button pointer\",\n            onClick: event => toggleDropdown(9, event),\n            children: [selectedColors.length > 0 ? `Цвет (${selectedColors.length}) ` : 'Цвет', /*#__PURE__*/_jsxDEV(\"img\", {\n              src: caret,\n              alt: \"caret\",\n              style: {\n                marginLeft: '5px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `sorting-content dropdown_selector ${openDropdownIndex === 9 ? 'sorting-content_visible' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tags__dropdown dropdown_selector\",\n              children: terms === null || terms === void 0 ? void 0 : (_terms$colors2 = terms.colors) === null || _terms$colors2 === void 0 ? void 0 : _terms$colors2.map(color => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"tag-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  value: color.termId,\n                  className: \"tag-button_dropdown\",\n                  checked: (selectedColors === null || selectedColors === void 0 ? void 0 : selectedColors.some(c => c === color.termId)) || false,\n                  onChange: event => {\n                    event.stopPropagation();\n                    handleColorToggle(color.termId);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 528,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"tag-pseudo-checkbox pointer\",\n                  onClick: event => event.stopPropagation(),\n                  children: [color.name, /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"color_ball\",\n                    style: {\n                      background: color.extra\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 539,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 538,\n                  columnNumber: 23\n                }, this)]\n              }, color.termId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"sorting-button\",\n              onClick: () => setOpenDropdownIndex(null),\n              children: \"\\u0413\\u043E\\u0442\\u043E\\u0432\\u043E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 13\n        }, this), tags && filteredTags.map(tag => /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"tag-label\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            value: tag.termId,\n            className: \"tag-button\",\n            checked: (selectedTags === null || selectedTags === void 0 ? void 0 : selectedTags.some(t => t === tag.termId)) || false,\n            onChange: () => handleTagToggle(tag.termId)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tag-pseudo-button pointer\",\n            children: [tag.name, !productFilters.category && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"tag-count\",\n              children: tag.count\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 59\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 17\n          }, this)]\n        }, tag.termId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chosen-area\",\n      children: selectedCategoryName && /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"category-header\",\n        children: [\"\\u2022 \", selectedCategoryName.toUpperCase(), \" \\u2022\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 34\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 566,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 5\n  }, this);\n}\n_s(Tags, \"DV+7HE3u+wyfoV6zY+hik0zJusU=\", false, function () {\n  return [useMediaQuery, useMediaQuery, useLocation];\n});\n_c = Tags;\nvar _c;\n$RefreshReg$(_c, \"Tags\");","map":{"version":3,"names":["useEffect","useMemo","useState","caret","sorting","useMediaQuery","NavLink","useLocation","jsxDEV","_jsxDEV","Fragment","_Fragment","Tags","terms","tags","categories","onTagClick","onColorClick","onSizeClick","activeCategory","activeTags","sortBy","setSortBy","sortOrder","setSortOrder","productFilters","setProductFilters","onCatClick","_s","_terms$colors","_terms$colors2","selectedTags","setSelectedTags","filteredTags","setFilteredTags","selectedColors","setSelectedColors","selectedSizes","setSelectedSizes","openDropdownIndex","setOpenDropdownIndex","stonesInputValue","setStonesInputValue","selectedCategoryName","setSelectedCategoryName","isBigScreen","minWidth","isSmallScreen","maxWidth","location","ringsCategoryId","_found$termId","list","found","find","c","_c$name","_c$name$trim","_c$slug","_c$slug$toLowerCase","_c$slug2","_c$slug2$toLowerCase","name","trim","toLowerCase","slug","call","termId","isRings","Number","category","sortedSizes","toNum","sizeObj","_sizeObj$name","str","String","replace","m","match","POSITIVE_INFINITY","num","parseFloat","isNaN","sizes","sort","a","b","handleTagToggle","tag","activeTagsTemporary","includes","filter","selectedTag","handleCategoryClick","event","preventDefault","selectedCategoryId","target","dataset","id","handleColorToggle","color","activeColorsTemporary","selectedColor","handleSizeToggle","size","activeSizesTemporary","selectedSize","toggleDropdown","index","stopPropagation","prevIndex","next","count","activeCategoryTags","JSON","parse","item","category_tags","length","q","colors","handleClick","parent","parentElement","classList","contains","document","addEventListener","removeEventListener","query","URLSearchParams","search","categoryId","get","cat","parseInt","handleStonesInput","input","inputValue","value","handleSortChange","prevFilters","offset","handleMasterpieceChange","masterpiece","checked","handleIridescentChange","iridescent","_productFilters$sizes","prev","sortOptions","label","className","children","type","onClick","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","map","option","style","fontWeight","marginLeft","some","s","onChange","placeholder","t","background","extra","slice","to","marginBottom","toUpperCase","_c","$RefreshReg$"],"sources":["C:/Users/Maria/Desktop/Coding/01dolina/dolina_frontend/src/components/Tags/Tags.js"],"sourcesContent":["\r\n\r\n\r\nimport './Tags.css';\r\nimport { useEffect, useMemo, useState } from 'react';\r\nimport caret from '../../images/caret-down_mini.svg';\r\nimport sorting from '../../images/sorting_2.svg';\r\nimport { useMediaQuery } from 'react-responsive';\r\nimport { NavLink, useLocation } from 'react-router-dom';\r\n\r\nexport default function Tags({\r\n  terms,\r\n  tags,\r\n  categories,\r\n  onTagClick,\r\n  onColorClick,\r\n  onSizeClick,\r\n  activeCategory,\r\n  activeTags,\r\n  sortBy,\r\n  setSortBy,\r\n  sortOrder,\r\n  setSortOrder,\r\n  productFilters,\r\n  setProductFilters,\r\n  onCatClick\r\n}) {\r\n  const [selectedTags, setSelectedTags] = useState([]);\r\n  const [filteredTags, setFilteredTags] = useState([]);\r\n  const [selectedColors, setSelectedColors] = useState([]);\r\n  const [selectedSizes, setSelectedSizes] = useState([]);\r\n  const [openDropdownIndex, setOpenDropdownIndex] = useState(null);\r\n  const [stonesInputValue, setStonesInputValue] = useState('');\r\n  const [selectedCategoryName, setSelectedCategoryName] = useState('');\r\n\r\n  const isBigScreen = useMediaQuery({ minWidth: 771 });\r\n  const isSmallScreen = useMediaQuery({ maxWidth: 770 });\r\n  const location = useLocation();\r\n\r\n  // --- Ищем категорию «Кольца» и считаем флаг isRings\r\n  const ringsCategoryId = useMemo(() => {\r\n    const list = terms?.categories || categories || [];\r\n    const found = list.find(\r\n      c =>\r\n        c?.name?.trim()?.toLowerCase() === 'кольца' ||\r\n        c?.slug?.toLowerCase?.() === 'kolca' ||\r\n        c?.slug?.toLowerCase?.() === 'koltsa'\r\n    );\r\n    return found?.termId ?? null;\r\n  }, [terms, categories]);\r\n\r\n  const isRings =\r\n    ringsCategoryId != null &&\r\n    Number(productFilters?.category) === Number(ringsCategoryId);\r\n\r\n  // --- Отсортированный список размеров по возрастанию\r\n  const sortedSizes = useMemo(() => {\r\n    const toNum = (sizeObj) => {\r\n      let str = String(sizeObj?.name ?? '').trim()\r\n        .replace(',', '.')\r\n        .replace('½', '.5');\r\n      const m = str.match(/[\\d.]+/g);\r\n      if (!m) return Number.POSITIVE_INFINITY;\r\n      const num = parseFloat(m[0]);\r\n      return Number.isNaN(num) ? Number.POSITIVE_INFINITY : num;\r\n    };\r\n    return [...(terms?.sizes || [])].sort((a, b) => toNum(a) - toNum(b));\r\n  }, [terms?.sizes]);\r\n\r\n  const handleTagToggle = (tag) => {\r\n    let activeTagsTemporary = [];\r\n    if (selectedTags.includes(tag)) {\r\n      activeTagsTemporary = selectedTags.filter(selectedTag => selectedTag !== tag);\r\n    } else {\r\n      activeTagsTemporary = [...selectedTags, tag];\r\n    }\r\n    setSelectedTags(activeTagsTemporary);\r\n    onTagClick(activeTagsTemporary);\r\n  };\r\n\r\n  function handleCategoryClick(event) {\r\n    event.preventDefault();\r\n    const selectedCategoryId = event.target.dataset.id;\r\n    onCatClick(selectedCategoryId);\r\n    setOpenDropdownIndex(null);\r\n  }\r\n\r\n  const handleColorToggle = (color) => {\r\n    let activeColorsTemporary = [];\r\n    if (selectedColors.includes(color)) {\r\n      activeColorsTemporary = selectedColors.filter(selectedColor => selectedColor !== color);\r\n    } else {\r\n      activeColorsTemporary = [...selectedColors, color];\r\n    }\r\n    setSelectedColors(activeColorsTemporary);\r\n    onColorClick(activeColorsTemporary);\r\n  };\r\n\r\n  const handleSizeToggle = (size) => {\r\n    let activeSizesTemporary = [];\r\n    if (selectedSizes.includes(size)) {\r\n      activeSizesTemporary = selectedSizes.filter(selectedSize => selectedSize !== size);\r\n    } else {\r\n      activeSizesTemporary = [...selectedSizes, size];\r\n    }\r\n    setSelectedSizes(activeSizesTemporary);\r\n    onSizeClick(activeSizesTemporary);\r\n  };\r\n\r\n  const toggleDropdown = (index, event) => {\r\n    event.stopPropagation();\r\n    setOpenDropdownIndex(prevIndex => (prevIndex === index ? null : index));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (tags) {\r\n      // базовый список (только с товарами)\r\n      let next = tags.filter(tag => tag.count !== 0);\r\n\r\n      // по категории\r\n      if (productFilters.category > 0) {\r\n        const activeCategoryTags = JSON.parse(\r\n          categories.filter(item => item.termId == productFilters.category)[0].category_tags\r\n        );\r\n        next = next.filter(tag => activeCategoryTags.includes(Number(tag.termId)));\r\n      }\r\n\r\n      // поиск по камням\r\n      if (stonesInputValue.length > 0) {\r\n        const q = stonesInputValue.toLowerCase();\r\n        next = next.filter(tag => tag.name.toLowerCase().includes(q));\r\n      }\r\n\r\n      setFilteredTags(next);\r\n    }\r\n  }, [tags, productFilters, stonesInputValue, categories]);\r\n\r\n  // Синхронизация локальных выбранных значений со стором фильтров\r\n  useEffect(() => setSelectedTags(productFilters.tags || []), [productFilters.tags]);\r\n  useEffect(() => setSelectedColors(productFilters.colors || []), [productFilters.colors]);\r\n  useEffect(() => setSelectedSizes(productFilters.sizes || []), [productFilters.sizes]);\r\n\r\n  useEffect(() => {\r\n    setSelectedCategoryName('');\r\n  }, [productFilters]);\r\n\r\n  // Закрытие дропдаунов по клику вне\r\n  useEffect(() => {\r\n    const handleClick = (event) => {\r\n      const target = event.target;\r\n      const parent = target.parentElement;\r\n      if (\r\n        !target.classList.contains('dropdown_selector') &&\r\n        !(parent && parent.classList.contains('dropdown_selector'))\r\n      ) {\r\n        setOpenDropdownIndex(null);\r\n      }\r\n    };\r\n    document.addEventListener('click', handleClick);\r\n    return () => document.removeEventListener('click', handleClick);\r\n  }, []);\r\n\r\n  // Имя выбранной категории из URL\r\n  useEffect(() => {\r\n    const query = new URLSearchParams(location.search);\r\n    const categoryId = query.get('category');\r\n    if (categoryId && terms?.categories) {\r\n      const category = terms.categories.find(cat => cat.termId === parseInt(categoryId));\r\n      if (category) setSelectedCategoryName(category.name);\r\n    }\r\n  }, [location.search, terms?.categories]);\r\n\r\n  function handleStonesInput(input) {\r\n    const inputValue = input.target.value;\r\n    setStonesInputValue(inputValue);\r\n  }\r\n\r\n  const handleSortChange = (value) => {\r\n    setProductFilters(prevFilters => ({\r\n      ...prevFilters,\r\n      sortBy: value,\r\n      offset: 0\r\n    }));\r\n  };\r\n\r\n  const handleMasterpieceChange = (event) => {\r\n    setProductFilters(prevFilters => ({\r\n      ...prevFilters,\r\n      masterpiece: event.target.checked ? 1 : ''\r\n    }));\r\n  };\r\n\r\n  const handleIridescentChange = (event) => {\r\n    setProductFilters(prevFilters => ({\r\n      ...prevFilters,\r\n      iridescent: event.target.checked ? 1 : ''\r\n    }));\r\n  };\r\n\r\n  // Если ушли из «Кольца» — сброс размеров и закрытие дропдауна размеров (index 8)\r\n  useEffect(() => {\r\n    if (!isRings && (selectedSizes.length > 0 || (productFilters.sizes?.length || 0) > 0)) {\r\n      setSelectedSizes([]);\r\n      setProductFilters(prev => ({ ...prev, sizes: [], offset: 0 }));\r\n      if (openDropdownIndex === 8) setOpenDropdownIndex(null);\r\n    }\r\n  }, [isRings]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const sortOptions = [\r\n    { value: 'default', label: 'По умолчанию' },\r\n    { value: 'price-asc', label: 'По возрастанию цены' },\r\n    { value: 'price-desc', label: 'По убыванию цены' },\r\n    { value: 'date-desc', label: 'По новизне' },\r\n    { value: 'discount-desc', label: 'По размеру скидки' }\r\n  ];\r\n\r\n  return (\r\n    <section className='tag-section'>\r\n      {isBigScreen && (\r\n        <>\r\n          <div className='sorting-area'>\r\n            <div className='sorting-dropdown'>\r\n              <button\r\n                type='button'\r\n                className='sorting__button pointer'\r\n                onClick={(event) => toggleDropdown(0, event)}\r\n              >\r\n                <img src={sorting} alt=\"sort\" />\r\n              </button>\r\n\r\n              <div className={`sorting-content overflow-hidden ${openDropdownIndex === 0 ? 'sorting-content_visible' : ''}`}>\r\n                <div className=\"tags__dropdown sorting_by\">\r\n                  {sortOptions.map(option => (\r\n                    <button\r\n                      key={option.value}\r\n                      onClick={() => handleSortChange(option.value)}\r\n                      style={{ fontWeight: productFilters.sortBy === option.value ? 'bold' : 'normal' }}\r\n                    >\r\n                      {option.label}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Размеры — только для категории «Кольца», отсортированы по возрастанию */}\r\n            {isRings && (\r\n              <div className='sorting-dropdown'>\r\n                <button\r\n                  type='button'\r\n                  className='sorting-dropdown__button pointer'\r\n                  onClick={(event) => toggleDropdown(8, event)}\r\n                >\r\n                  {selectedSizes.length > 0 ? `Размеры (${selectedSizes.length}) ` : 'Размеры'}\r\n                  <img src={caret} alt=\"caret\" style={{ marginLeft: '5px' }} />\r\n                </button>\r\n\r\n                <div className={`sorting-content dropdown_selector ${openDropdownIndex === 8 ? 'sorting-content_visible' : ''}`}>\r\n                  <div className=\"tags__dropdown dropdown_selector\">\r\n                    {sortedSizes.map(size => (\r\n                      <label key={size.termId} className='tag-label'>\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          value={size.termId}\r\n                          className='tag-button_dropdown'\r\n                          checked={selectedSizes?.some(s => s === size.termId) || false}\r\n                          onChange={(event) => {\r\n                            event.stopPropagation();\r\n                            handleSizeToggle(size.termId);\r\n                          }}\r\n                        />\r\n                        <div\r\n                          className='tag-pseudo-checkbox pointer'\r\n                          onClick={(event) => event.stopPropagation()}\r\n                        >\r\n                          {size.name}\r\n                        </div>\r\n                      </label>\r\n                    ))}\r\n                  </div>\r\n                  <button type='button' className='sorting-button' onClick={() => setOpenDropdownIndex(null)}>Готово</button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div className='sorting-dropdown'>\r\n              <button\r\n                type='button'\r\n                className='sorting-dropdown__button pointer'\r\n                onClick={(event) => toggleDropdown(5, event)}\r\n              >\r\n                Все камни <img src={caret} alt=\"caret\" style={{ marginLeft: '5px' }} />\r\n              </button>\r\n\r\n              <div className={`sorting-content dropdown_selector ${openDropdownIndex === 5 ? 'sorting-content_visible' : ''}`}>\r\n                <div className=\"tags__dropdown dropdown_selector\">\r\n                  <div className='dropdown_selector'>\r\n                    <input className='stone-search' type='text' onChange={handleStonesInput} placeholder='начните вводить название' />\r\n                  </div>\r\n                  {tags && filteredTags.map(tag => (\r\n                    <label key={tag.termId} className='tag-label'>\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        value={tag.termId}\r\n                        className='tag-button_dropdown'\r\n                        checked={selectedTags?.some(t => t === tag.termId) || false}\r\n                        onChange={(event) => {\r\n                          event.stopPropagation();\r\n                          handleTagToggle(tag.termId);\r\n                        }}\r\n                      />\r\n                      <div className='tag-pseudo-checkbox pointer' onClick={(event) => event.stopPropagation()}>\r\n                        {tag.name}\r\n                        {!productFilters.category && (<span className=\"tag-count\">{tag.count}</span>)}\r\n                      </div>\r\n                    </label>\r\n                  ))}\r\n                </div>\r\n                <button type='button' className='sorting-button' onClick={() => setOpenDropdownIndex(null)}>Готово</button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className='sorting-dropdown'>\r\n              <button\r\n                type='button'\r\n                className='sorting-dropdown__button pointer'\r\n                onClick={(event) => toggleDropdown(9, event)}\r\n              >\r\n                {selectedColors.length > 0 ? `Цвета (${selectedColors.length}) ` : 'Цвета'}\r\n                <img src={caret} alt=\"caret\" style={{ marginLeft: '5px' }} />\r\n              </button>\r\n\r\n              <div className={`sorting-content dropdown_selector ${openDropdownIndex === 9 ? 'sorting-content_visible' : ''}`}>\r\n                <div className=\"tags__dropdown dropdown_selector\">\r\n                  {terms?.colors?.map(color => (\r\n                    <label key={color.termId} className='tag-label'>\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        value={color.termId}\r\n                        className='tag-button_dropdown'\r\n                        checked={selectedColors?.some(c => c === color.termId) || false}\r\n                        onChange={(event) => {\r\n                          event.stopPropagation();\r\n                          handleColorToggle(color.termId);\r\n                        }}\r\n                      />\r\n                      <div className='tag-pseudo-checkbox pointer' onClick={(event) => event.stopPropagation()}>\r\n                        {color.name}<span className='color_ball' style={{ background: color.extra }}></span>\r\n                      </div>\r\n                    </label>\r\n                  ))}\r\n                </div>\r\n                <button type='button' className='sorting-button' onClick={() => setOpenDropdownIndex(null)}>Готово</button>\r\n              </div>\r\n            </div>\r\n\r\n            <label className='tag-label'>\r\n              <input\r\n                className='tag-button'\r\n                type=\"checkbox\"\r\n                checked={!!productFilters.masterpiece}\r\n                onChange={handleMasterpieceChange}\r\n              />\r\n              <div className='sorting-dropdown__button pointer'>Авторские украшения</div>\r\n            </label>\r\n\r\n            <label className='tag-label'>\r\n              <input\r\n                className='tag-button'\r\n                type=\"checkbox\"\r\n                checked={!!productFilters.iridescent}\r\n                onChange={handleIridescentChange}\r\n              />\r\n              <div className='sorting-dropdown__button pointer'>Оптический эффект</div>\r\n            </label>\r\n          </div>\r\n\r\n          <div className='tag-area'>\r\n            {tags && filteredTags.slice(0, 15).map(tag => (\r\n              <label key={tag.termId} className='tag-label'>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value={tag.termId}\r\n                  className='tag-button'\r\n                  checked={selectedTags?.some(t => t === tag.termId) || false}\r\n                  onChange={() => handleTagToggle(tag.termId)}\r\n                />\r\n                <div className='tag-pseudo-button pointer'>\r\n                  {tag.name}{!productFilters.category && (<span className=\"tag-count\">{tag.count}</span>)}\r\n                </div>\r\n              </label>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {isSmallScreen && (\r\n        <>\r\n          <div className='sorting-area'>\r\n            <div className='tags_flex'>\r\n              <div className='sorting-dropdown'>\r\n                <button\r\n                  type='button'\r\n                  className='sorting__button pointer'\r\n                  onClick={(event) => toggleDropdown(0, event)}\r\n                >\r\n                  <img src={sorting} alt=\"sort\" />\r\n                </button>\r\n\r\n                <div className={`sorting-content overflow-hidden ${openDropdownIndex === 0 ? 'sorting-content_visible' : ''}`}>\r\n                  <div className=\"tags__dropdown sorting_by\">\r\n                    {sortOptions.map(option => (\r\n                      <button\r\n                        key={option.value}\r\n                        onClick={() => handleSortChange(option.value)}\r\n                        style={{ fontWeight: productFilters.sortBy === option.value ? 'bold' : 'normal' }}\r\n                      >\r\n                        {option.label}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className='sorting-dropdown'>\r\n                <button\r\n                  type='button'\r\n                  className='sorting-dropdown__button pointer'\r\n                  onClick={(event) => toggleDropdown(12, event)}\r\n                >\r\n                  Категории <img src={caret} alt=\"caret\" style={{ marginLeft: '5px' }} />\r\n                </button>\r\n\r\n                <div className={`sorting-content dropdown_selector ${openDropdownIndex === 12 ? 'sorting-content_visible' : ''}`}>\r\n                  <div className=\"tags__dropdown dropdown_selector\">\r\n                    {categories && categories.map(category => (\r\n                      <NavLink\r\n                        to=''\r\n                        className='tag-pseudo-checkbox'\r\n                        onClick={handleCategoryClick}\r\n                        key={category.termId}\r\n                        data-id={category.termId}\r\n                        style={{ marginBottom: '5px' }}\r\n                      >\r\n                        {category.name}\r\n                      </NavLink>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Размеры — только для «Кольца», отсортированы */}\r\n              {isRings && (\r\n                <div className='sorting-dropdown'>\r\n                  <button\r\n                    type='button'\r\n                    className='sorting-dropdown__button pointer'\r\n                    onClick={(event) => toggleDropdown(8, event)}\r\n                  >\r\n                    {selectedSizes.length > 0 ? `Размеры (${selectedSizes.length}) ` : 'Размеры'}\r\n                    <img src={caret} alt=\"caret\" style={{ marginLeft: '5px' }} />\r\n                  </button>\r\n\r\n                  <div className={`sorting-content dropdown_selector ${openDropdownIndex === 8 ? 'sorting-content_visible' : ''}`}>\r\n                    <div className=\"tags__dropdown dropdown_selector\">\r\n                      {sortedSizes.map(size => (\r\n                        <label key={size.termId} className='tag-label'>\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            value={size.termId}\r\n                            className='tag-button_dropdown'\r\n                            checked={selectedSizes?.some(s => s === size.termId) || false}\r\n                            onChange={(event) => {\r\n                              event.stopPropagation();\r\n                              handleSizeToggle(size.termId);\r\n                            }}\r\n                          />\r\n                          <div className='tag-pseudo-checkbox pointer' onClick={(event) => event.stopPropagation()}>\r\n                            {size.name}\r\n                          </div>\r\n                        </label>\r\n                      ))}\r\n                    </div>\r\n                    <button type='button' className='sorting-button' onClick={() => setOpenDropdownIndex(null)}>Готово</button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className='tags_flex'>\r\n              <label className='tag-label'>\r\n                <input\r\n                  className='tag-button'\r\n                  type=\"checkbox\"\r\n                  checked={!!productFilters.masterpiece}\r\n                  onChange={handleMasterpieceChange}\r\n                />\r\n                <div className='sorting-dropdown__button pointer'>Авторское украшение</div>\r\n              </label>\r\n\r\n              <label className='tag-label'>\r\n                <input\r\n                  className='tag-button'\r\n                  type=\"checkbox\"\r\n                  checked={!!productFilters.iridescent}\r\n                  onChange={handleIridescentChange}\r\n                />\r\n                <div className='sorting-dropdown__button pointer'>Оптический эффект</div>\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <div className='tag-area_mobile'>\r\n            <div className='sorting-dropdown'>\r\n              <button\r\n                type='button'\r\n                className='tag-pseudo-button pointer'\r\n                onClick={(event) => toggleDropdown(9, event)}\r\n              >\r\n                {selectedColors.length > 0 ? `Цвет (${selectedColors.length}) ` : 'Цвет'}\r\n                <img src={caret} alt=\"caret\" style={{ marginLeft: '5px' }} />\r\n              </button>\r\n\r\n              <div className={`sorting-content dropdown_selector ${openDropdownIndex === 9 ? 'sorting-content_visible' : ''}`}>\r\n                <div className=\"tags__dropdown dropdown_selector\">\r\n                  {terms?.colors?.map(color => (\r\n                    <label key={color.termId} className='tag-label'>\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        value={color.termId}\r\n                        className='tag-button_dropdown'\r\n                        checked={selectedColors?.some(c => c === color.termId) || false}\r\n                        onChange={(event) => {\r\n                          event.stopPropagation();\r\n                          handleColorToggle(color.termId);\r\n                        }}\r\n                      />\r\n                      <div className='tag-pseudo-checkbox pointer' onClick={(event) => event.stopPropagation()}>\r\n                        {color.name}<span className='color_ball' style={{ background: color.extra }}></span>\r\n                      </div>\r\n                    </label>\r\n                  ))}\r\n                </div>\r\n                <button type='button' className='sorting-button' onClick={() => setOpenDropdownIndex(null)}>Готово</button>\r\n              </div>\r\n            </div>\r\n\r\n            {tags && filteredTags.map(tag => (\r\n              <label key={tag.termId} className='tag-label'>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value={tag.termId}\r\n                  className='tag-button'\r\n                  checked={selectedTags?.some(t => t === tag.termId) || false}\r\n                  onChange={() => handleTagToggle(tag.termId)}\r\n                />\r\n                <div className='tag-pseudo-button pointer'>\r\n                  {tag.name}{!productFilters.category && (<span className=\"tag-count\">{tag.count}</span>)}\r\n                </div>\r\n              </label>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      <div className='chosen-area'>\r\n        {selectedCategoryName && <h1 className='category-header'>&bull; {selectedCategoryName.toUpperCase()} &bull;</h1>}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}