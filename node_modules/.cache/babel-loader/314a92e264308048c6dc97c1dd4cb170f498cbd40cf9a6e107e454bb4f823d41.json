{"ast":null,"code":"import Crumbs from\"../Crumbs/Crumbs\";import Header from\"../Header/Header\";import Product from\"../Product/Product\";import MobileNavBar from\"../MobileNavBar/MobileNavBar\";import{useParams}from'react-router-dom';import{useEffect,useState}from'react';import productsApi from'../../utils/Api';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductPage(_ref){let{onLikeClick,savedProducts}=_ref;const{newSlug}=useParams();let lastIndex=newSlug.lastIndexOf(\"-\");let productId=newSlug.substring(lastIndex+1);// or str.slice(lastIndex + 1);\nconst[productData,setProductData]=useState(null);useEffect(()=>{productsApi.getProduct(productId).then(data=>{setProductData(data[0]);}).catch(error=>console.error('Error fetching product:',error));},[newSlug]);if(!productData){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Product,{productData:productData,onLikeClick:onLikeClick,savedProducts:savedProducts}),/*#__PURE__*/_jsx(MobileNavBar,{})]});}","map":{"version":3,"names":["Crumbs","Header","Product","MobileNavBar","useParams","useEffect","useState","productsApi","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ProductPage","_ref","onLikeClick","savedProducts","newSlug","lastIndex","lastIndexOf","productId","substring","productData","setProductData","getProduct","then","data","catch","error","console","children"],"sources":["C:/Users/Maria/Desktop/Coding/01dolina/dolina_frontend/src/components/pages/ProductPage.js"],"sourcesContent":["import Crumbs from \"../Crumbs/Crumbs\";\r\nimport Header from \"../Header/Header\";\r\nimport Product from \"../Product/Product\";\r\nimport MobileNavBar from \"../MobileNavBar/MobileNavBar\";\r\nimport { useParams } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\nimport productsApi from '../../utils/Api';\r\n\r\nexport default function ProductPage({ onLikeClick, savedProducts }) {\r\n\r\n  const { newSlug } = useParams();\r\n\r\n  let lastIndex = newSlug.lastIndexOf(\"-\");\r\n  let productId = newSlug.substring(lastIndex + 1); // or str.slice(lastIndex + 1);\r\n\r\n  const [productData, setProductData] = useState(null);\r\n\r\n  useEffect(() => {\r\n      productsApi.getProduct(productId)\r\n          .then((data) => { setProductData(data[0]); })\r\n          .catch((error) => console.error('Error fetching product:', error));\r\n  }, [newSlug]);\r\n\r\n  if (!productData) {\r\n    return <div>Loading...</div>\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <Header/>\r\n    {/* <Crumbs/> */}\r\n    <Product\r\n      productData={productData}\r\n      onLikeClick={onLikeClick}\r\n      savedProducts={savedProducts}\r\n    ></Product>\r\n    <MobileNavBar/>\r\n    </>\r\n  )\r\n}"],"mappings":"AAAA,MAAO,CAAAA,MAAM,KAAM,kBAAkB,CACrC,MAAO,CAAAC,MAAM,KAAM,kBAAkB,CACrC,MAAO,CAAAC,OAAO,KAAM,oBAAoB,CACxC,MAAO,CAAAC,YAAY,KAAM,8BAA8B,CACvD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,WAAW,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1C,cAAe,SAAS,CAAAC,WAAWA,CAAAC,IAAA,CAAiC,IAAhC,CAAEC,WAAW,CAAEC,aAAc,CAAC,CAAAF,IAAA,CAEhE,KAAM,CAAEG,OAAQ,CAAC,CAAGd,SAAS,CAAC,CAAC,CAE/B,GAAI,CAAAe,SAAS,CAAGD,OAAO,CAACE,WAAW,CAAC,GAAG,CAAC,CACxC,GAAI,CAAAC,SAAS,CAAGH,OAAO,CAACI,SAAS,CAACH,SAAS,CAAG,CAAC,CAAC,CAAE;AAElD,KAAM,CAACI,WAAW,CAAEC,cAAc,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAEpDD,SAAS,CAAC,IAAM,CACZE,WAAW,CAACkB,UAAU,CAACJ,SAAS,CAAC,CAC5BK,IAAI,CAAEC,IAAI,EAAK,CAAEH,cAAc,CAACG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAE,CAAC,CAAC,CAC5CC,KAAK,CAAEC,KAAK,EAAKC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAAC,CAC1E,CAAC,CAAE,CAACX,OAAO,CAAC,CAAC,CAEb,GAAI,CAACK,WAAW,CAAE,CAChB,mBAAOd,IAAA,QAAAsB,QAAA,CAAK,YAAU,CAAK,CAAC,CAC9B,CAEA,mBACElB,KAAA,CAAAF,SAAA,EAAAoB,QAAA,eACAtB,IAAA,CAACR,MAAM,GAAC,CAAC,cAETQ,IAAA,CAACP,OAAO,EACNqB,WAAW,CAAEA,WAAY,CACzBP,WAAW,CAAEA,WAAY,CACzBC,aAAa,CAAEA,aAAc,CACrB,CAAC,cACXR,IAAA,CAACN,YAAY,GAAC,CAAC,EACb,CAAC,CAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}